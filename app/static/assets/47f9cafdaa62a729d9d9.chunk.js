"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[3237],{33237:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var s=r(47324),n=r(81465),a=r(5556),o=r.n(a),i=r(24143),c=r.n(i),d=r(29898),p=r(14503);const l={data:o().shape({matrix:o().arrayOf(o().arrayOf(o().number)),nodes:o().arrayOf(o().string)}),width:o().number,height:o().number,colorScheme:o().string,numberFormat:o().string};function h(e,t){const{data:r,width:s,height:n,numberFormat:a,colorScheme:o,sliceId:i}=t;e.innerHTML="";const l=c().select(e);l.classed("superset-legacy-chart-chord",!0);const{nodes:h,matrix:u}=r,g=(0,d.gV)(a),m=p.getScale(o),f=Math.min(s,n)/2-10,y=f-24;let x;const v=c().svg.arc().innerRadius(y).outerRadius(f),$=c().layout.chord().padding(.04).sortSubgroups(c().descending).sortChords(c().descending),b=c().svg.chord().radius(y),T=l.append("svg").attr("width",s).attr("height",n).on("mouseout",()=>x.classed("fade",!1)).append("g").attr("id","circle").attr("transform",`translate(${s/2}, ${n/2})`);T.append("circle").attr("r",f),$.matrix(u);const C=T.selectAll(".group").data($.groups).enter().append("g").attr("class","group").on("mouseover",(e,t)=>{x.classed("fade",e=>e.source.index!==t&&e.target.index!==t)});C.append("title").text((e,t)=>`${h[t]}: ${g(e.value)}`);const N=C.append("path").attr("id",(e,t)=>`group${t}`).attr("d",v).style("fill",(e,t)=>m(h[t],i)),k=C.append("text").attr("x",6).attr("dy",15);k.append("textPath").attr("xlink:href",(e,t)=>`#group${t}`).text((e,t)=>h[t]),k.filter(function(e,t){return N[0][t].getTotalLength()/2-16<this.getComputedTextLength()}).remove(),x=T.selectAll(".chord").data($.chords).enter().append("path").attr("class","chord").on("mouseover",e=>{x.classed("fade",t=>t!==e)}).style("fill",e=>m(h[e.source.index],i)).attr("d",b),x.append("title").text(e=>`${h[e.source.index]} → ${h[e.target.index]}: ${g(e.target.value)}\n${h[e.target.index]} → ${h[e.source.index]}: ${g(e.source.value)}`)}h.displayName="Chord",h.propTypes=l;const u=h;var g=r(2445);const m=(0,s.A)(u),f=({className:e,...t})=>(0,g.Y)("div",{className:e,children:(0,g.Y)(m,{...t})});f.defaultProps={otherProps:{}},f.propTypes={className:o().string.isRequired,otherProps:o().objectOf(o().any)};const y=(0,n.I4)(f)`
  ${({theme:e})=>`\n    .superset-legacy-chart-chord svg #circle circle {\n      fill: none;\n      pointer-events: all;\n    }\n    .superset-legacy-chart-chord svg .group path {\n      fill-opacity: 60%;\n    }\n    .superset-legacy-chart-chord svg path.chord {\n      stroke: ${e.colorText};\n      stroke-width: 0.25px;\n    }\n    .superset-legacy-chart-chord svg #circle:hover path.fade {\n      opacity: 10%;\n    }\n  `}
`},47324:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(2445),n=r(24002);function a(e,t){class r extends n.Component{constructor(e){super(e),this.container=void 0,this.setContainerRef=this.setContainerRef.bind(this)}componentDidMount(){this.execute()}componentDidUpdate(){this.execute()}componentWillUnmount(){this.container=void 0,null!=t&&t.componentWillUnmount&&t.componentWillUnmount.bind(this)()}setContainerRef(e){this.container=e}execute(){this.container&&e(this.container,this.props)}render(){const{id:e,className:t}=this.props;return(0,s.Y)("div",{ref:this.setContainerRef,id:e,className:t})}}const a=r;return e.displayName&&(a.displayName=e.displayName),e.propTypes&&(a.propTypes={...a.propTypes,...e.propTypes}),e.defaultProps&&(a.defaultProps=e.defaultProps),r}}}]);