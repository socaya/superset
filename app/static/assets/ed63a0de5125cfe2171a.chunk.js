(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[9399],{31746:(e,t,n)=>{var l={"./langAR":[95380,5380],"./langAR.js":[95380,5380],"./langCS":[64053,4053],"./langCS.js":[64053,4053],"./langDE":[87020,7020],"./langDE.js":[87020,7020],"./langEN":[45764],"./langEN.js":[45764],"./langES":[61591,1591],"./langES.js":[61591,1591],"./langFA":[78510,8510],"./langFA.js":[78510,8510],"./langFI":[9702,9702],"./langFI.js":[9702,9702],"./langFR":[51515,1515],"./langFR.js":[51515,1515],"./langHU":[45888,5888],"./langHU.js":[45888,5888],"./langIT":[48378,8378],"./langIT.js":[48378,8378],"./langJA":[1626,1626],"./langJA.js":[1626,1626],"./langKO":[95401,5401],"./langKO.js":[95401,5401],"./langNL":[13985,3985],"./langNL.js":[13985,3985],"./langPL":[39271,9271],"./langPL.js":[39271,9271],"./langPT-br":[43620,3620],"./langPT-br.js":[43620,3620],"./langRO":[28079,460],"./langRO.js":[28079,460],"./langRU":[69118,6737],"./langRU.js":[69118,6737],"./langSI":[72603,2603],"./langSI.js":[72603,2603],"./langSV":[46746,6746],"./langSV.js":[46746,6746],"./langTH":[90703,703],"./langTH.js":[90703,703],"./langTR":[26841,6841],"./langTR.js":[26841,6841],"./langUK":[82335,2335],"./langUK.js":[82335,2335],"./langVI":[10102,102],"./langVI.js":[10102,102],"./langZH":[23073],"./langZH.js":[23073]};function a(e){if(!n.o(l,e))return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=l[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then(()=>n(a))}a.keys=()=>Object.keys(l),a.id=31746,e.exports=a},53695:(e,t,n)=>{"use strict";n.d(t,{A:()=>P});var l=n(2445),a=n(24002),r=n(61225),i=n(81465),o=n(69871),s=n(92351),c=n(3087),u=n(53080),d=n(11734),h=n(42900),g=n(80491),m=n(32003),f=n(25652),p=n(31441),x=n(12458),b=n(45567),y=n(61030),v=n(74508),S=n(73900),N=n(51719),T=n(49714),w=n(22329),j=n(17979),F=n(39539),k=n(45620),E=n(40830),z=n(25384),A=n(6641),R=n(74064),C=n(42998),O=n(39838),I=n(69380),L=n(45967),M=n(28540),$=n(5553),H=n(35278),U=n(46900);const Y=i.I4.div`
  height: ${({height:e})=>e};
  width: ${({width:e})=>e};
`;function D({width:e,height:t,echartOptions:c,eventHandlers:d,zrEventHandlers:h,selectedValues:g={},refs:m,vizType:f},p){const x=(0,i.DP)(),b=(0,a.useRef)(null);m&&(m.divRef=b);const[y,v]=(0,a.useState)(!1),S=(0,a.useRef)(),N=(0,a.useMemo)(()=>Object.keys(g)||[],[g]),T=(0,a.useRef)([]);(0,a.useImperativeHandle)(p,()=>({getEchartInstance:()=>S.current}));const w=(0,r.d4)(e=>{var t,n;return null!=(t=null==e||null==(n=e.common)?void 0:n.locale)?t:U.Xn}).toUpperCase(),j=(0,a.useCallback)(({width:e,height:t})=>{S.current&&S.current.resize({width:e,height:t})},[]);return(0,a.useEffect)(()=>{(async e=>{var t;let l;try{l=await n(31746)(`./lang${e}`)}catch(t){console.error(`Locale ${e} not supported in ECharts`,t)}return null==(t=l)?void 0:t.default})(w).then(n=>{n&&(0,u.E)(w,n),b.current&&(S.current||(S.current=(0,s.Ts)(b.current,null,{locale:w})),j({width:e,height:t}),v(!0))})},[w]),(0,a.useEffect)(()=>{if(y){var e,t;Object.entries(d||{}).forEach(([e,t])=>{var n,l;null==(n=S.current)||n.off(e),null==(l=S.current)||l.on(e,t)}),Object.entries(h||{}).forEach(([e,t])=>{var n,l;null==(n=S.current)||n.getZr().off(e),null==(l=S.current)||l.getZr().on(e,t)});const n=(e=>{const t=x,n={textStyle:{color:t.colorText,fontFamily:t.fontFamily},title:{textStyle:{color:t.colorText}},legend:{textStyle:{color:t.colorTextSecondary},pageTextStyle:{color:t.colorTextSecondary},pageIconColor:t.colorTextSecondary,pageIconInactiveColor:t.colorTextDisabled,inactiveColor:t.colorTextDisabled},tooltip:{backgroundColor:t.colorBgContainer,textStyle:{color:t.colorText}},axisPointer:{lineStyle:{color:t.colorPrimary},label:{color:t.colorText}}};return null!=e&&e.xAxis&&(n.xAxis={axisLine:{lineStyle:{color:t.colorSplit}},axisLabel:{color:t.colorTextSecondary},splitLine:{lineStyle:{color:t.colorSplit}}}),null!=e&&e.yAxis&&(n.yAxis={axisLine:{lineStyle:{color:t.colorSplit}},axisLabel:{color:t.colorTextSecondary},splitLine:{lineStyle:{color:t.colorSplit}}}),n})(c),l=x.echartsOptionsOverrides||{},a=f&&(null==(e=x.echartsOptionsOverridesByChartType)?void 0:e[f])||{},r=(0,o.H)(n,c,l,a);null==(t=S.current)||t.setOption(r,!0)}},[y,c,d,h,x]),(0,a.useEffect)(()=>()=>{var e;return null==(e=S.current)?void 0:e.dispose()},[]),(0,a.useEffect)(()=>{S.current&&(S.current.dispatchAction({type:"downplay",dataIndex:T.current.filter(e=>!N.includes(e))}),N.length&&S.current.dispatchAction({type:"highlight",dataIndex:N}),T.current=N)},[N,S.current]),(0,a.useLayoutEffect)(()=>{j({width:e,height:t})},[e,t,j]),(0,l.Y)(Y,{ref:b,height:t,width:e})}(0,c.Y)([F.a,h.a,N.a,j.a,v.a,y.a,b.a,T.a,d.a,g.a,f.a,S.a,m.a,w.a,p.a,x.a,$.a,L.a,E.a,k.a,O.a,C.a,I.a,z.a,A.a,R.a,M.a,H._]);const P=(0,a.forwardRef)(D)},59399:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var l=n(2445),a=n(24002),r=n(74098),i=n(23957),o=n(29898),s=n(58083),c=n(87948),u=n(7396),d=n(81465),h=n(53695);const g=(0,o.gV)(),m=.3,f=(0,d.I4)(function({className:e="",headerFormatter:t=g,formatTime:n=(0,s.mo)(c.M),headerFontSize:o=.3,kickerFontSize:f=.1,metricNameFontSize:p=.125,showMetricName:x=!0,mainColor:b=u.a1,showTimestamp:y=!1,showTrendLine:v=!1,startYAxisAtZero:S=!0,subheader:N="",subheaderFontSize:T=.125,subtitleFontSize:w=.125,timeRangeFixed:j=!1,...F}){const k=(0,d.DP)(),[E,z]=(0,a.useState)(!1),A=(0,a.useRef)(null),R=(0,a.useRef)(null),C=(0,a.useRef)(null),O=(0,a.useRef)(null),I=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=setTimeout(()=>{z(!0)},0);return()=>clearTimeout(e)},[]),(0,a.useEffect)(()=>{},[F.height,v]);const L=()=>{const t=`superset-legacy-chart-big-number ${e} ${F.bigNumberFallback?"is-fallback-value":""}`;return v?t:`${t} no-trendline`},M=()=>{const e=document.createElement("div");return e.className=L(),e.style.position="absolute",e.style.opacity="0",e},$=()=>{const{bigNumberFallback:e}=F;return n&&e&&!y?(0,l.Y)("span",{className:"alert alert-warning",role:"alert",title:(0,r.t)("Last available value seen on %s",n(e[0])),children:(0,r.t)("Not up to date")}):null},H=e=>{const{metricName:t,width:n}=F;if(!x||!t)return null;const a=t,r=M();document.body.append(r);const o=(0,i.A)({text:a,maxWidth:n,maxHeight:e,className:"metric-name",container:r});return r.remove(),(0,l.Y)("div",{ref:A,className:"metric-name",style:{fontSize:o,height:"auto"},children:a})},U=e=>{const{timestamp:t,width:a}=F;if(!n||!y||"string"==typeof t||"bigint"==typeof t||"boolean"==typeof t)return null;const r=null===t?"":n(t),o=M();document.body.append(o);const s=(0,i.A)({text:r,maxWidth:a,maxHeight:e,className:"kicker",container:o});return o.remove(),(0,l.Y)("div",{ref:R,className:"kicker",style:{fontSize:s,height:"auto"},children:r})},Y=e=>{const{bigNumber:n,width:a,colorThresholdFormatters:o,onContextMenu:s}=F,c=null===n?(0,r.t)("No data"):t(n);let u;Array.isArray(o)&&o.length>0?o.forEach(e=>{const t=!!n&&e.getColorFromValue(n);t&&(u=t)}):u=k.colorText;const d=M();document.body.append(d);const h=(0,i.A)({text:c,maxWidth:.9*a,maxHeight:e,className:"header-line",container:d});return d.remove(),(0,l.Y)("div",{ref:C,className:"header-line",style:{display:"flex",alignItems:"center",fontSize:h,height:"auto",color:u},onContextMenu:e=>{s&&(e.preventDefault(),s(e.nativeEvent.clientX,e.nativeEvent.clientY))},children:c})},D=e=>{const{width:t}=F;let n=0;const a=N;if(a){const r=M();document.body.append(r);try{n=(0,i.A)({text:a,maxWidth:.9*t,maxHeight:e,className:"subheader-line",container:r})}finally{r.remove()}return(0,l.Y)("div",{ref:O,className:"subheader-line",style:{fontSize:n,height:e},children:a})}return null},P=e=>{const{subtitle:t,width:n,bigNumber:a,bigNumberFallback:o}=F;let s=0;const c=(0,r.t)("No data after filtering or data is NULL for the latest time record"),u=(0,r.t)("Try applying different filters or ensuring your datasource has data");let d=t;if(null===a&&(d=t||(o?u:c)),d){const t=M();return document.body.append(t),s=(0,i.A)({text:d,maxWidth:.9*n,maxHeight:e,className:"subtitle-line",container:t}),t.remove(),(0,l.Y)(l.FK,{children:(0,l.Y)("div",{ref:I,className:"subtitle-line subheader-line",style:{fontSize:`${s}px`,height:e},children:d})})}return null},V=e=>{const{width:t,trendLineData:n,echartOptions:a,refs:r,onContextMenu:i,formData:o,xValueFormatter:s}=F;if(null==n||!n.some(e=>null!==e[1]))return null;const c={contextmenu:e=>{if(i){e.event.stop();const{data:t}=e;if(t){const n=e.event.event,l=[];l.push({col:null==o?void 0:o.granularitySqla,grain:null==o?void 0:o.timeGrainSqla,op:"==",val:t[0],formattedVal:null==s?void 0:s(t[0])}),i(n.clientX,n.clientY,{drillToDetail:l})}}}};return a&&(0,l.Y)(h.A,{refs:r,width:Math.floor(t),height:e,echartOptions:a,eventHandlers:c})},K=e=>!!E&&(()=>{const e=[A,R,C,O,I].filter(e=>e.current);return e.reduce((t,n,l)=>{var a;return t+((null==(a=n.current)?void 0:a.offsetHeight)||0)+(l<e.length-1?8:0)},0)})()>e,{height:W}=F,X=L();if(v){const e=Math.floor(m*W),t=W-e,n=K(t);return(0,l.FD)("div",{className:X,children:[(0,l.FD)("div",{className:"text-container",style:{height:t,...n?{display:"block",boxSizing:"border-box",overflowX:"hidden",overflowY:"auto",width:"100%"}:{}},children:[$(),H(Math.ceil(.7*(p||0)*W)),U(Math.ceil(.7*(f||0)*W)),Y(Math.ceil(.7*o*W)),D(Math.ceil(.7*T*W)),P(Math.ceil(.7*w*W))]}),V(e)]})}const Z=K(W);return(0,l.Y)("div",{className:X,style:{height:W,...Z?{display:"block",boxSizing:"border-box",overflowX:"hidden",overflowY:"auto",width:"100%"}:{}},children:(0,l.FD)("div",{className:"text-container",children:[$(),H((p||0)*W),U((f||0)*W),Y(Math.ceil(o*W)),D(Math.ceil(T*W)),P(Math.ceil(w*W))]})})})`
  ${({theme:e})=>`\n    font-family: ${e.fontFamily};\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n\n    &.no-trendline .subheader-line {\n      padding-bottom: 0.3em;\n    }\n\n    .text-container {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: flex-start;\n      .alert {\n        font-size: ${e.fontSizeSM};\n        margin: -0.5em 0 0.4em;\n        line-height: 1;\n        padding: ${e.sizeUnit}px;\n        border-radius: ${e.borderRadius}px;\n      }\n    }\n\n    .kicker {\n      line-height: 1em;\n      margin-bottom: ${2*e.sizeUnit}px;\n    }\n\n    .metric-name {\n      line-height: 1em;\n      margin-bottom: ${2*e.sizeUnit}px;\n    }\n\n    .header-line {\n      position: relative;\n      line-height: 1em;\n      white-space: nowrap;\n      margin-bottom:${2*e.sizeUnit}px;\n      span {\n        position: absolute;\n        bottom: 0;\n      }\n    }\n\n    .subheader-line {\n      line-height: 1em;\n      margin-bottom: ${2*e.sizeUnit}px;\n    }\n\n    .subtitle-line {\n      line-height: 1em;\n      margin-bottom: ${2*e.sizeUnit}px;\n    }\n\n    &.is-fallback-value {\n      .kicker,\n      .header-line,\n      .subheader-line {\n        opacity: 60%;\n      }\n    }\n  `}
`}}]);