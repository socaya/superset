"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[3191],{39514:(e,t,r)=>{r.r(t),r.d(t,{default:()=>k});var a=r(2445),o=r(74098),n=r(17437),i=r(81465),s=r(59674),l=r(24002),c=r(61574),d=r(71519),u=r(95018),g=r(9876),h=r(20237),m=r(64457),f=r(46506),p=r(86784);const S=i.I4.div`
  ${({theme:e})=>n.AH`
    display: flex;
    flex-direction: row;

    a,
    Link {
      margin-left: ${4*e.sizeUnit}px;
      font-size: ${e.fontSizeSM};
      font-weight: ${e.fontWeightNormal};
      text-decoration: underline;
    }
  `}
`,k=(0,m.Ay)(function({addDangerToast:e,addSuccessToast:t,isReportEnabled:r}){const{alertId:n}=(0,c.g)(),{state:{loading:i,resourceCount:m,resourceCollection:k},fetchData:b}=(0,p.RU)(`report/${n}/log`,(0,o.t)("log"),e,!1),{state:{loading:O,resource:C},fetchResource:D}=(0,p.fn)("report",(0,o.t)("reports"),e);(0,l.useEffect)(()=>{null===n||O||D(n)},[n]);const Y=(0,l.useMemo)(()=>[{Cell:({row:{original:{state:e}}})=>(0,a.Y)(f.A,{state:e,isReportEnabled:r}),accessor:"state",Header:(0,o.t)("State"),size:"xs",disableSortBy:!0,id:"state"},{Cell:({row:{original:{uuid:e}}})=>e?e.slice(0,6):"none",accessor:"uuid",Header:(0,o.t)("Execution ID"),size:"xs",disableSortBy:!0,id:"uuid"},{Cell:({row:{original:{scheduled_dttm:e}}})=>(0,s.XV)(new Date(e)).format("YYYY-MM-DD hh:mm:ss a"),accessor:"scheduled_dttm",Header:(0,o.t)("Scheduled at (UTC)"),id:"scheduled_dttm"},{Cell:({row:{original:{start_dttm:e}}})=>(0,s.XV)(new Date(e)).format("YYYY-MM-DD hh:mm:ss a"),Header:(0,o.t)("Start at (UTC)"),accessor:"start_dttm",id:"start_dttm"},{Cell:({row:{original:{start_dttm:e,end_dttm:t}}})=>(0,s.RW)(new Date(e).getTime(),new Date(t).getTime()),Header:(0,o.t)("Duration"),disableSortBy:!0,id:"duration"},{accessor:"value",Header:(0,o.t)("Value"),id:"value"},{accessor:"error_message",Header:(0,o.t)("Error message"),Cell:({row:{original:{error_message:e=""}}})=>(0,a.Y)(u.m,{title:e,placement:"topLeft",children:(0,a.Y)("span",{children:e})}),id:"error_message"}],[r]),w=`/${r?"report":"alert"}/list/`,E=(0,o.t)("Alert"),T=(0,o.t)("Report");return(0,a.FD)(a.FK,{children:[(0,a.Y)(h.A,{name:(0,a.FD)(S,{children:[(0,a.FD)("span",{children:[C?"Alert"===C.type?`${E}:`:"Report"===C.type?`${T}:`:null:null," ",null==C?void 0:C.name]}),(0,a.Y)("span",{children:(0,a.Y)(d.N_,{to:w,children:(0,o.t)("Back to all")})})]})}),(0,a.Y)(g.uO,{className:"execution-log-list-view",columns:Y,count:m,data:k,fetchData:b,initialSort:[{id:"start_dttm",desc:!0}],loading:i,addDangerToast:e,addSuccessToast:t,refreshData:()=>{},pageSize:25})]})})},46506:(e,t,r)=>{r.d(t,{A:()=>u});var a=r(2445),o=r(74098),n=r(17437),i=r(81465),s=r(95018),l=r(8558),c=r(96611);function d(e,t,r){switch(e){case c.Or.Working:return r.colorPrimaryText;case c.Or.Error:return r.colorErrorText;case c.Or.Success:case c.Or.Noop:return r.colorSuccessText;case c.Or.Grace:return r.colorErrorText;default:return r.colorText}}function u({state:e,isReportEnabled:t=!1}){const r=(0,i.DP)(),u={icon:l.F.CheckOutlined,label:"",status:""};switch(e){case c.Or.Success:u.icon=l.F.CheckOutlined,u.label=t?(0,o.t)("Report sent"):(0,o.t)("Alert triggered, notification sent"),u.status=c.Or.Success;break;case c.Or.Working:u.icon=l.F.Running,u.label=t?(0,o.t)("Report sending"):(0,o.t)("Alert running"),u.status=c.Or.Working;break;case c.Or.Error:u.icon=l.F.CloseOutlined,u.label=t?(0,o.t)("Report failed"):(0,o.t)("Alert failed"),u.status=c.Or.Error;break;case c.Or.Noop:u.icon=l.F.CheckOutlined,u.label=(0,o.t)("Nothing triggered"),u.status=c.Or.Noop;break;case c.Or.Grace:u.icon=l.F.WarningOutlined,u.label=(0,o.t)("Alert Triggered, In Grace Period"),u.status=c.Or.Grace;break;default:u.icon=l.F.CheckOutlined,u.label=(0,o.t)("Nothing triggered"),u.status=c.Or.Noop}const g=u.icon,h=e===c.Or.Working;return(0,a.Y)(s.m,{title:u.label,placement:"bottomLeft",children:(0,a.Y)("span",{css:h?n.AH`
                display: inline-flex;
                align-items: center;
                justify-content: center;
                transform: scale(1.8);
              `:void 0,children:(0,a.Y)(g,{iconSize:"m",iconColor:d(u.status,0,r)})})})}},96611:(e,t,r)=>{var a,o,n,i,s;r.d(t,{Or:()=>o,Z_:()=>i,cM:()=>s,yV:()=>a}),function(e){e.Email="Email",e.Slack="Slack",e.SlackV2="SlackV2"}(a||(a={})),function(e){e.Success="Success",e.Working="Working",e.Error="Error",e.Noop="Not triggered",e.Grace="On Grace"}(o||(o={})),function(e){e.Email="Email",e.Slack="Slack",e.SlackV2="SlackV2"}(n||(n={})),function(e){e.General="generalSection",e.Content="contentSection",e.Alert="alertConditionSection",e.Schedule="scheduleSection",e.Notification="notificationSection"}(i||(i={})),function(e){e.Dashboard="dashboard",e.Chart="chart"}(s||(s={}))}}]);