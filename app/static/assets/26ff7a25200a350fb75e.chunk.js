(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[9687],{1071:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});var a=r(24002);const n=e=>{(0,a.useEffect)(e,[])}},18981:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(53705),n=r(86471),o=r(23223);function i(e,t=!1){const r=t?a.DC:a.aL,i=r("%Y-%m-%d %H:%M:%S.%L"),s=r("%Y-%m-%d %H:%M:%S"),l=r("%Y-%m-%d %H:%M"),c=r("%Y-%m-%d %H:%M"),u=r("%Y-%m-%d"),d=r("%Y-%m-%d"),m=r("%Y"),{hasMillisecond:h,hasSecond:p,hasMinute:g,hasHour:A,isNotFirstDayOfMonth:f,isNotFirstMonth:T}=t?n.m:n.w;let C=m;return e.forEach(e=>{"bigint"!=typeof e&&(C===m&&T(e)&&(C=d),C===d&&f(e)&&(C=u),C===u&&A(e)&&(C=c),C===c&&g(e)&&(C=l),C===l&&p(e)&&(C=s),C===s&&h(e)&&(C=i))}),new o.A({description:"Use the finest grain in an array of dates to format all dates in the array",formatFunc:C,id:"finest_temporal_grain",label:"Format temporal columns with the finest grain",useLocalTime:t})}},41234:()=>{},47324:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(2445),n=r(24002);function o(e,t){class r extends n.Component{constructor(e){super(e),this.container=void 0,this.setContainerRef=this.setContainerRef.bind(this)}componentDidMount(){this.execute()}componentDidUpdate(){this.execute()}componentWillUnmount(){this.container=void 0,null!=t&&t.componentWillUnmount&&t.componentWillUnmount.bind(this)()}setContainerRef(e){this.container=e}execute(){this.container&&e(this.container,this.props)}render(){const{id:e,className:t}=this.props;return(0,a.Y)("div",{ref:this.setContainerRef,id:e,className:t})}}const o=r;return e.displayName&&(o.displayName=e.displayName),e.propTypes&&(o.propTypes={...o.propTypes,...e.propTypes}),e.defaultProps&&(o.defaultProps=e.defaultProps),r}},48929:(e,t,r)=>{"use strict";r.d(t,{M9:()=>c,TX:()=>u,cy:()=>l});var a=r(62193),n=r.n(a),o=r(90924),i=r(39242);const s=864e5,l=(e,t=!1,r=!1)=>{const a=new Date;if("now"===e||"No filter"===e||""===e)return a;if("today"===e)return a.setHours(0,0,0,0),a;if(r?a.setHours(-a.getTimezoneOffset()/60,0,0,0):a.setHours(0,0,0,0),t&&null!=e&&e.includes("Last"))return a;switch(e){case"Last day":return a.setUTCDate(a.getUTCDate()-1),a;case"Last week":return a.setUTCDate(a.getUTCDate()-7),a;case"Last month":return a.setUTCMonth(a.getUTCMonth()-1),a;case"Last quarter":return a.setUTCMonth(a.getUTCMonth()-3),a;case"Last year":return a.setUTCFullYear(a.getUTCFullYear()-1),a;case"previous calendar week":return t?a.setDate(a.getDate()-a.getDay()+1):a.setDate(a.getDate()-a.getDay()-6),a;case"previous calendar month":return t?a.setDate(1):(a.setDate(1),a.setMonth(a.getMonth()-1)),a;case"previous calendar year":return t?a.setFullYear(a.getFullYear(),0,1):a.setFullYear(a.getFullYear()-1,0,1),a}if(null!=e&&e.includes("ago")){const t=e.split(" "),r=parseInt(t[0],10);switch(t[1]){case"day":case"days":a.setUTCDate(a.getUTCDate()-r);break;case"week":case"weeks":a.setUTCDate(a.getUTCDate()-7*r);break;case"month":case"months":a.setUTCMonth(a.getUTCMonth()-r);break;case"year":case"years":a.setUTCFullYear(a.getUTCFullYear()-r)}return a}const o=null==e?void 0:e.split("-");let i=null;return i=o&&!n()(o)?1===o.length?new Date(Date.UTC(parseInt(o[0],10),0)):2===o.length?new Date(Date.UTC(parseInt(o[0],10),parseInt(o[1],10)-1)):3===o.length?new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10)):new Date(e):new Date(e),i&&!Number.isNaN(i.getTime())?(r?i.setHours(-i.getTimezoneOffset()/60,0,0,0):i.setHours(0,0,0,0),i):null},c=(e,t,r)=>{let a;if(a="now"===e||"today"===e?new Date:new Date(e),!Number.isNaN(a.getTime())){switch(t){case"second":a.setSeconds(a.getSeconds()+r);break;case"minute":a.setMinutes(a.getMinutes()+r);break;case"hour":a.setHours(a.getHours()+r);break;case"day":a.setDate(a.getDate()+r);break;case"week":a.setDate(a.getDate()+7*r);break;case"month":a.setMonth(a.getMonth()+r);break;case"quarter":a.setMonth(a.getMonth()+3*r);break;case"year":a.setFullYear(a.getFullYear()+r)}return a}return null},u=({timeRangeFilter:e,shifts:t,startDate:r,includeFutureOffsets:a=!0})=>{var n,u,d,m;const{customRange:h,matchedFlag:p}=(0,i.t)(null!=(n=null==e?void 0:e.comparator)?n:"");let g=null,A=null;if(p){var f,T;const{sinceDatetime:e,sinceMode:t,sinceGrain:r,sinceGrainValue:a,untilDatetime:n,untilMode:o,untilGrain:i,untilGrainValue:s}={...h};g="relative"!==t?"specific"===t?new Date(e):l(e,!1,!0):c(e,r,a),null==(f=g)||f.setHours(0,0,0,0),A="relative"!==o?"specific"===o?new Date(n):l(n,!1,!0):c(n,i,s),null==(T=A)||T.setHours(0,0,0,0)}const C=null==t?void 0:t.includes("custom"),y=null==t?void 0:t.includes("inherit");let _;var v;C&&(_=p?new Date(new Date(r).setUTCHours(new Date(r).getTimezoneOffset()/60,0,0,0)).getTime():null==(v=l(r))?void 0:v.getTime());const[D,F]=(null!=(u=null==e?void 0:e.comparator)?u:"").split(" : ").map(e=>e.trim()),S=(null==(d=null!=g?g:l(D,!1,!1))?void 0:d.getTime())||0,E=(null==(m=null!=A?A:l(F||D,!0,!1))?void 0:m.getTime())||0,R=_&&S&&Math.round((S-_)/s),M=y&&E&&S&&Math.round((E-S)/s),P=(0,o.A)(t).map(e=>{if("custom"===e&&void 0!==R&&!Number.isNaN(R)){if(a&&R<0)return-1*R+" days after";if(R>=0&&S)return`${R} days ago`}if("inherit"===e&&M&&!Number.isNaN(M)){if(a&&M<0)return-1*M+" days after";if(M>0)return`${M} days ago`}return e}).filter(e=>"custom"!==e&&"inherit"!==e);return(0,o.A)(P)}},62120:(e,t,r)=>{"use strict";r.d(t,{c:()=>o,d:()=>i});var a=r(7391),n=r.n(a);function o(e){return n()(e)}function i(){return n()("superset-ui")()}},70646:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AnnotationOpacity:()=>be.h4,AnnotationSourceType:()=>be.FG,AnnotationStyle:()=>be.vd,AnnotationType:()=>be.UJ,ApiLegacy:()=>a,ApiV1:()=>n,AppSection:()=>Yt.$s,AxisType:()=>Yt.Gw,BRAND_COLOR:()=>ht.a1,Behavior:()=>Yt.nS,CACHE_AVAILABLE:()=>le.l2,CACHE_KEY:()=>le.RU,COMMON_ERR_MESSAGES:()=>le.HL,CategoricalAirbnb:()=>ht.nf,CategoricalBlueToGreen:()=>ht.hq,CategoricalColorNamespace:()=>ht.hs,CategoricalColorScale:()=>ht.oZ,CategoricalColorsOfRainbow:()=>ht.XB,CategoricalD3:()=>ht.Oj,CategoricalEcharts:()=>ht.Ho,CategoricalGoogle:()=>ht.mu,CategoricalLyft:()=>ht.Am,CategoricalModernSunset:()=>ht.aT,CategoricalPreset:()=>ht.qw,CategoricalPresetSuperset:()=>ht.lM,CategoricalRedToYellow:()=>ht.VJ,CategoricalScheme:()=>ht.qO,CategoricalSuperset:()=>ht.w_,CategoricalWavesOfBlue:()=>ht.CP,ChartClient:()=>St.A,ChartDataProvider:()=>Ut,ChartFrame:()=>Bt,ChartLabel:()=>Yt.jW,ChartMetadata:()=>Et.A,ChartPlugin:()=>Rt.A,ChartProps:()=>Ft.A,ColorScheme:()=>ht.zM,ColorSchemeGroup:()=>ht.wI,ColorSchemeRegistry:()=>ht.Ck,ComparisonTimeRangeType:()=>mt,ComparisonType:()=>O.g1,ContributionType:()=>L.PA,CtasEnum:()=>L.Hk,CurrencyFormatter:()=>pr.A,DEFAULT_APP_ROOT:()=>le.Nn,DEFAULT_D3_FORMAT:()=>ke.w,DEFAULT_D3_TIME_FORMAT:()=>ze._,DEFAULT_FETCH_RETRY_OPTIONS:()=>le.F_,DEFAULT_METRICS:()=>b.Cq,DTTM_ALIAS:()=>fe.Tf,DataMaskType:()=>Z.p_,DatasourceKey:()=>Fe.A,DatasourceType:()=>b.cT,EXTRA_FORM_DATA_APPEND_KEYS:()=>fe.t1,EXTRA_FORM_DATA_OVERRIDE_EXTRA_KEYS:()=>fe.KE,EXTRA_FORM_DATA_OVERRIDE_KEYS:()=>fe.zk,EXTRA_FORM_DATA_OVERRIDE_REGULAR_KEYS:()=>fe.E_,EXTRA_FORM_DATA_OVERRIDE_REGULAR_MAPPINGS:()=>fe.DV,EmotionCacheProvider:()=>pt.jf,ErrorTypeEnum:()=>L.eK,ExtensibleFunction:()=>i.A,FeatureFlag:()=>F.TO,HTTP_STATUS_NOT_MODIFIED:()=>le.Un,HTTP_STATUS_OK:()=>le.rw,LOCAL_PREFIX:()=>qe.n,LabelsColorMap:()=>ht.fH,LabelsColorMapSource:()=>ht.iw,MatrixifyFilterConstants:()=>Vt.JI,NO_TIME_RANGE:()=>fe.WC,NativeFilterType:()=>Z.EH,NumberFormats:()=>we.A,NumberFormatter:()=>Ne.A,NumberFormatterRegistry:()=>Ie.A,OverwritePolicy:()=>c.m,PREVIEW_TIME:()=>Qe.p,PREVIEW_VALUE:()=>Ne.t,PandasAxis:()=>o,Plugin:()=>s.A,Preset:()=>l.A,QueryMode:()=>I.g,QueryState:()=>L.kZ,Registry:()=>c.A,RegistryWithDefaultKey:()=>u.A,RollingType:()=>O.AA,SEPARATOR:()=>yr.wv,SMART_DATE_DETAILED_ID:()=>Xe.e,SMART_DATE_ID:()=>Ke.f,SMART_DATE_VERBOSE_ID:()=>$e.M,SequentialCommon:()=>ht.LC,SequentialD3:()=>ht.F5,SequentialScheme:()=>ht.RE,StatefulChart:()=>Ht.A,SuperChart:()=>bt.A,SupersetApiError:()=>xe._,SupersetApiErrorType:()=>xe.w,SupersetClient:()=>ie.A,SupersetClientClass:()=>se.A,Theme:()=>pt.Sx,ThemeAlgorithm:()=>pt.lJ,ThemeMode:()=>pt.lG,ThemeProvider:()=>pt.NP,TimeFormats:()=>qe.A,TimeFormatter:()=>Qe.A,TimeGranularity:()=>tt.i,TooltipFrame:()=>tr,TooltipTable:()=>nr,TypedRegistry:()=>d.A,VizType:()=>Gt.Y,WithLegend:()=>Jt,__hack_reexport_AdvancedAnalytics:()=>O.Ay,__hack_reexport_Column:()=>x.Ay,__hack_reexport_Dashboard:()=>Z.Ay,__hack_reexport_Datasource:()=>b.Ay,__hack_reexport_Metric:()=>N.Ay,__hack_reexport_Query:()=>L.Ay,__hack_reexport_QueryFormData:()=>I.A,__hack_reexport_QueryResponse:()=>ee,__hack_reexport_Time:()=>te,__hack_reexport_chart_Base:()=>Yt.Ay,__hack_reexport_chart_QueryResponse:()=>Qt,__hack_reexport_chart_TransformFunction:()=>qt,__hack_reexport_connection:()=>ce,__hack_reexport_dimension:()=>dt,__hack_reexport_jed:()=>ae,__hack_reexport_translation:()=>ne,addAlpha:()=>ht.o3,addLocaleData:()=>re.Mo,addTranslation:()=>re.XY,addTranslations:()=>re.um,buildCustomFormatters:()=>gr.Xc,buildQueryContext:()=>Te.A,buildQueryObject:()=>Ce.A,callApi:()=>oe.A,chartLabelExplanations:()=>Yt.HE,chartLabelWeight:()=>Yt.l7,checkForHtml:()=>Pe.bY,computeCustomDateTime:()=>Cr.M9,computeMaxFontSize:()=>st.A,concludedQueryStateList:()=>L.tG,configure:()=>re.jK,convertFilter:()=>ye.A,convertKeysToCamelCase:()=>m.A,createD3NumberFormatter:()=>Oe.A,createD3TimeFormatter:()=>Be.A,createDurationFormatter:()=>Ue.A,createEmotionCache:()=>pt.An,createLoadableRenderer:()=>Mt.A,createMemoryFormatter:()=>He.A,createMultiFormatter:()=>We.A,createSiAtMostNDigitFormatter:()=>Ge,createSmartDateDetailedFormatter:()=>Xe.K,createSmartDateFormatter:()=>Ke.m,createSmartDateVerboseFormatter:()=>$e.k,createSmartNumberFormatter:()=>Ve.A,css:()=>pt.AH,customTimeRangeDecode:()=>_r.t,defineSharedModule:()=>ue.zW,defineSharedModules:()=>ue.mg,denormalizeTimestamp:()=>et,ensureIsArray:()=>h.A,ensureIsInt:()=>p.A,evalExpression:()=>or.p,exampleThemes:()=>pt.fK,extractQueryFields:()=>Re.A,extractTimegrain:()=>_e.A,fetchTimeRange:()=>yr.x9,finestTemporalGrainFormatter:()=>Je.A,formatNumber:()=>Le.ZV,formatTime:()=>je.fU,formatTimeRange:()=>je.sH,getAnalogousColors:()=>ht.yG,getCategoricalSchemeRegistry:()=>ht.nn,getChartBuildQueryRegistry:()=>xt.A,getChartComponentRegistry:()=>wt.A,getChartControlPanelRegistry:()=>Nt.A,getChartMetadataRegistry:()=>kt.A,getChartTransformPropsRegistry:()=>Lt.A,getClientErrorMessage:()=>Pe.hi,getClientErrorObject:()=>Pe.h4,getColorVariants:()=>pt.st,getColumnLabel:()=>ve.A,getComparisonFilters:()=>fr,getComparisonInfo:()=>Tr,getContrastingColor:()=>ht.OB,getCurrencySymbol:()=>pr.Q,getCustomFormatter:()=>gr.Em,getErrorFromStatusCode:()=>Pe.q2,getErrorText:()=>Pe.ER,getExtensionsRegistry:()=>ir.a,getFontSize:()=>pt.ny,getLabelsColorMap:()=>ht.HG,getMatrixifyConfig:()=>Vt.AU,getMatrixifyValidationErrors:()=>Vt.IN,getMetricLabel:()=>De.A,getMultipleTextDimensions:()=>it,getNumberFormatter:()=>Le.gV,getNumberFormatterRegistry:()=>Le.Ay,getParagraphContents:()=>R.Vi,getSelectedText:()=>D.j,getSequentialSchemeRegistry:()=>ht.cH,getTextDimension:()=>rt.A,getTimeFormatter:()=>je.mo,getTimeFormatterForGranularity:()=>je.PT,getTimeFormatterRegistry:()=>je.Ay,getTimeOffset:()=>Cr.TX,getTimeRangeFormatter:()=>je.$K,getValueFormatter:()=>gr.gC,getXAxisColumn:()=>Me.Od,getXAxisLabel:()=>Me.yj,hasHtmlTagPattern:()=>R.Id,hexToRgb:()=>ht.E2,initFeatureFlags:()=>F.Aq,isAdhocColumn:()=>x.q0,isAdhocMetricSQL:()=>N.WL,isAdhocMetricSimple:()=>N.IN,isAppliedCrossFilterType:()=>Z.Ub,isAppliedNativeFilterType:()=>Z.ve,isBinaryAdhocFilter:()=>w.bo,isBinaryOperator:()=>k.UH,isDefined:()=>g.A,isEqualArray:()=>f.A,isEventAnnotationLayer:()=>be.Tw,isFeatureEnabled:()=>F.G7,isFilterDivider:()=>Z.O2,isFormulaAnnotationLayer:()=>be.Bg,isFreeFormAdhocFilter:()=>w.wF,isIntervalAnnotationLayer:()=>be.Cv,isJsonString:()=>R.Eo,isMatrixifyEnabled:()=>Vt.L2,isNativeFilter:()=>Z.qQ,isNativeFilterWithDataMask:()=>Z.ee,isPhysicalColumn:()=>x.eh,isPostProcessingAggregation:()=>U,isPostProcessingBoxplot:()=>H,isPostProcessingCompare:()=>j,isPostProcessingContribution:()=>Y,isPostProcessingCum:()=>z,isPostProcessingDiff:()=>q,isPostProcessingFlatten:()=>X,isPostProcessingHistogram:()=>J,isPostProcessingPivot:()=>G,isPostProcessingProphet:()=>V,isPostProcessingRank:()=>$,isPostProcessingRename:()=>K,isPostProcessingResample:()=>W,isPostProcessingRolling:()=>Q,isPostProcessingSort:()=>B,isProbablyHTML:()=>R.fE,isQueryFormColumn:()=>x.x$,isQueryFormMetric:()=>N.Pr,isRequired:()=>A.A,isSavedMetric:()=>N.S_,isSetAdhocFilter:()=>w.M6,isSetOperator:()=>k.jy,isSimpleAdhocFilter:()=>w.md,isTableAnnotationLayer:()=>be.n2,isThemeConfigDark:()=>pt.El,isThemeDark:()=>pt.Mw,isTimeseriesAnnotationLayer:()=>be.No,isUnaryAdhocFilter:()=>w.TI,isUnaryOperator:()=>k.Gq,isValidExpression:()=>or.$,isXAxisSet:()=>Me.aj,jsx:()=>pt.Y,keyframes:()=>pt.i7,legacyValidateInteger:()=>gt.A,legacyValidateNumber:()=>At.A,logging:()=>y.A,lruCache:()=>v.E,makeApi:()=>pe.A,makeSingleton:()=>T.A,mergeMargin:()=>ct,mergeReplaceArrays:()=>P.H,normalizeOrderBy:()=>Se.A,normalizeTimeColumn:()=>Ee.j,normalizeTimestamp:()=>Ze.A,parseDttmToDate:()=>Cr.cy,parseErrorJson:()=>Pe.io,parseLength:()=>ut.A,parseStringResponse:()=>Pe.A8,promiseTimeout:()=>C.A,reactify:()=>Pt.A,removeDuplicates:()=>_.A,removeHTMLTags:()=>R.zF,reset:()=>ue.cL,resetTranslation:()=>re.Fh,retrieveErrorMessage:()=>Pe.ei,rgbToHex:()=>ht.Ob,runningQueryStateList:()=>L.P7,safeHtmlSpan:()=>R.nn,sanitizeHtml:()=>R.pn,sanitizeHtmlIfNeeded:()=>R.pU,seed:()=>S.c,seedRandom:()=>S.d,setD3Format:()=>Le.rl,styled:()=>pt.I4,supersetTheme:()=>pt.TT,t:()=>re.t,testQuery:()=>L.hd,testQueryResponse:()=>L.aW,testQueryResults:()=>L.X,theme:()=>pt.w4,themeObject:()=>pt.vP,tn:()=>re.tn,tooltipHtml:()=>M.L,truncationCSS:()=>hr.P,typedMemo:()=>E.v,useCSSTextTruncation:()=>hr.A,useChangeEffect:()=>sr.h,useComponentDidMount:()=>lr.B,useComponentDidUpdate:()=>cr,useElementOnScreen:()=>ur.N,usePrevious:()=>dr.Z,useTheme:()=>pt.DP,useThemeMode:()=>pt.eP,useTruncation:()=>mr.A,validateInteger:()=>ft.A,validateMapboxStylesUrl:()=>_t.A,validateMaxValue:()=>yt.A,validateNonEmpty:()=>Ct.A,validateNumber:()=>Tt.A,validateServerPagination:()=>Dt.A,validateTimeComparisonRangeValues:()=>vt,withTheme:()=>pt.SL});var a={};r.r(a),r.d(a,{__hack_reexport_query_api_legacy:()=>he,getDatasourceMetadata:()=>me,getFormData:()=>de});var n={};r.r(n),r.d(n,{default:()=>Ae,getChartData:()=>ge});var o,i=r(14735),s=r(76613),l=r(85433),c=r(35625),u=r(88485),d=r(10384),m=r(69191),h=r(90924),p=r(30256),g=r(74842),A=r(92250),f=r(78878),T=r(39892),C=r(87875),y=r(75574),_=r(82689),v=r(87470),D=r(95021),F=r(99106),S=r(62120),E=r(85173),R=r(7566),M=r(19236),P=r(69871),b=r(41479),x=r(91920),w=r(58180),N=r(1734),k=r(86138),L=r(88808),I=r(17658),O=r(99578);function U(e){return"aggregate"===(null==e?void 0:e.operation)}function H(e){return"boxplot"===(null==e?void 0:e.operation)}function Y(e){return"contribution"===(null==e?void 0:e.operation)}function G(e){return"pivot"===(null==e?void 0:e.operation)}function V(e){return"prophet"===(null==e?void 0:e.operation)}function q(e){return"diff"===(null==e?void 0:e.operation)}function Q(e){return"rolling"===(null==e?void 0:e.operation)}function z(e){return"cum"===(null==e?void 0:e.operation)}function j(e){return"compare"===(null==e?void 0:e.operation)}function B(e){return"sort"===(null==e?void 0:e.operation)}function W(e){return"resample"===(null==e?void 0:e.operation)}function K(e){return"rename"===(null==e?void 0:e.operation)}function X(e){return"flatten"===(null==e?void 0:e.operation)}function $(e){return"rank"===(null==e?void 0:e.operation)}function J(e){return"histogram"===(null==e?void 0:e.operation)}!function(e){e[e.Row=0]="Row",e[e.Column=1]="Column"}(o||(o={}));var Z=r(10900);const ee={},te={};var re=r(74098);const ae={},ne={};var oe=r(17286),ie=r(79378),se=r(26836),le=r(6987);const ce={};var ue=r(71065);function de({client:e=ie.A,sliceId:t,overrideFormData:r,requestConfig:a}){const n=e.get({endpoint:`/api/v1/form_data/?slice_id=${t}`,...a}).then(({json:e})=>e);return r?n.then(e=>({...e,...r})):n}function me({client:e=ie.A,datasourceKey:t,requestConfig:r}){return e.get({endpoint:`/superset/fetch_datasource_metadata?datasourceKey=${t}`,...r}).then(e=>e.json)}const he={};var pe=r(10992);const ge=(0,pe.A)({method:"POST",endpoint:"/api/v1/chart/data"}),Ae={getChartData:ge};var fe=r(31463),Te=r(47309),Ce=r(47837),ye=r(16751),_e=r(19619),ve=r(65432),De=r(34142),Fe=r(3666),Se=r(11460),Ee=r(78546),Re=r(91402),Me=r(89297),Pe=r(59744),be=r(65894),xe=r(32726),we=r(52966),Ne=r(27032),ke=r(4061),Le=r(29898),Ie=r(459),Oe=r(43386),Ue=r(67650),He=r(48243),Ye=r(24626);function Ge(e={}){const{description:t,n:r=3,id:a,label:n}=e,o=(0,Ye.GP)(`.${r}s`);return new Ne.A({description:t,formatFunc:e=>{const t=o(e);return t.slice(-1)<"A"?parseFloat(t).toString():t},id:null!=a?a:`si_at_most_${r}_digit`,label:null!=n?n:`SI with at most ${r} significant digits`})}var Ve=r(92324),qe=r(15222),Qe=r(23223),ze=r(39781),je=r(58083),Be=r(42398),We=r(86227),Ke=r(29508),Xe=r(44516),$e=r(87948),Je=r(18981),Ze=r(89874);function et(e){const t=e.match(Ze.W);return t?`${t[1]}T${t[2]}`:e}var tt=r(10360),rt=r(76529),at=r(40557),nt=r(24334),ot=r(29861);function it(e,t){const{texts:r,className:a,style:n,container:o}=e,i=new Map;let s,l;i.set("",{height:0,width:0});const c=r.map(e=>{if(i.has(e))return i.get(e);s||(l=nt.z.createInContainer(o),s=nt.k.createInContainer(l)),(0,ot.A)(s,{className:a,style:n,text:e});const r=(0,at.A)(s,t);return i.set(e,r),r});return l&&s&&setTimeout(()=>{nt.k.removeFromContainer(l),nt.z.removeFromContainer(o)},500),c}var st=r(23957);function lt(e,t=0,r=0){return Number.isNaN(t)||null===t?r:Number.isNaN(r)||null===r?t:e(t,r)}function ct(e={},t={},r="expand"){const{top:a,left:n,bottom:o,right:i}=e,s="expand"===r?Math.max:Math.min;return{bottom:lt(s,o,t.bottom),left:lt(s,n,t.left),right:lt(s,i,t.right),top:lt(s,a,t.top)}}var ut=r(39965);const dt={};var mt,ht=r(7396),pt=r(81465),gt=r(14125),At=r(17942),ft=r(3924),Tt=r(68585),Ct=r(88396),yt=r(84023),_t=r(73744);!function(e){e.Custom="c",e.InheritedRange="r",e.Month="m",e.Week="w",e.Year="y"}(mt||(mt={}));const vt=(e,t)=>{const r=e===mt.Custom,a=null==t?void 0:t.every(e=>0===(0,h.A)(e).length);return r&&a?[(0,re.t)("Filters for comparison must have a value")]:[]};var Dt=r(71859),Ft=r(59923),St=r(86646),Et=r(19848),Rt=r(89454),Mt=r(5504),Pt=r(47324),bt=r(42152),xt=r(94122),wt=r(32861),Nt=r(42385),kt=r(18749),Lt=r(69376),It=r(24002);class Ot extends It.PureComponent{constructor(e){super(e),this.chartClient=void 0,this.handleFetchData=()=>{const{loadDatasource:e,formDataRequestOptions:t,datasourceRequestOptions:r,queryRequestOptions:a}=this.props;this.setState({status:"loading"},()=>{try{this.chartClient.loadFormData(this.extractSliceIdAndFormData(),t).then(t=>Promise.all([e?this.chartClient.loadDatasource(t.datasource,r):Promise.resolve(void 0),this.chartClient.loadQueryData(t,a)]).then(([e,r])=>({datasource:e,formData:t,queriesData:r}))).then(this.handleReceiveData).catch(this.handleError)}catch(e){this.handleError(e)}})},this.handleReceiveData=e=>{const{onLoaded:t}=this.props;t&&t(e),this.setState({payload:e,status:"loaded"})},this.handleError=e=>{const{onError:t}=this.props;t&&t(e),this.setState({error:e,status:"error"})},this.state={status:"uninitialized"},this.chartClient=new St.A({client:e.client})}componentDidMount(){this.handleFetchData()}componentDidUpdate(e){const{formData:t,sliceId:r}=this.props;t===e.formData&&r===e.sliceId||this.handleFetchData()}extractSliceIdAndFormData(){const{formData:e,sliceId:t}=this.props;return e?{formData:e}:{sliceId:t}}render(){const{children:e}=this.props,{status:t,payload:r,error:a}=this.state;switch(t){case"loading":return e({loading:!0});case"loaded":return e({payload:r});case"error":return e({error:a});default:return null}}}const Ut=Ot;var Ht=r(24797),Yt=r(81115),Gt=r(7741),Vt=r(57749);const qt={},Qt={};var zt=r(2445);function jt(e){return(0,g.A)(e)&&"number"==typeof e}class Bt extends It.PureComponent{render(){const{contentWidth:e,contentHeight:t,width:r,height:a,renderContent:n}=this.props,o=jt(e)&&e>r,i=jt(t)&&t>a;return o||i?(0,zt.Y)("div",{style:{height:a,overflowX:o?"auto":"hidden",overflowY:i?"auto":"hidden",width:r},children:n({height:Math.max(null!=t?t:0,a),width:Math.max(null!=e?e:0,r)})}):n({height:a,width:r})}}Bt.defaultProps={renderContent(){}};var Wt=r(80116);const Kt={display:"flex",flexGrow:0,flexShrink:0,order:-1},Xt={flexBasis:"auto",flexGrow:1,flexShrink:1,position:"relative"};class $t extends It.PureComponent{getContainerDirection(){const{position:e}=this.props;return"left"===e?"row":"right"===e?"row-reverse":"bottom"===e?"column-reverse":"column"}getLegendJustifyContent(){const{legendJustifyContent:e,position:t}=this.props;return e||("left"===t||"right"===t?"flex-start":"flex-end")}render(){const{className:e,debounceTime:t,width:r,height:a,position:n,renderChart:o,renderLegend:i}=this.props,s="left"===n||"right"===n,l={display:"flex",flexDirection:this.getContainerDirection(),height:a,width:r},c={...Xt};s?c.width=0:c.height=0;const u=s?"column":"row",d={...Kt,flexDirection:u,justifyContent:this.getLegendJustifyContent()};return(0,zt.FD)("div",{className:`with-legend ${e}`,style:l,children:[i&&(0,zt.Y)("div",{className:"legend-container",style:d,children:i({direction:u})}),(0,zt.Y)("div",{className:"main-container",style:c,children:(0,zt.Y)(Wt.A,{debounceTime:t,children:e=>e.width>0&&e.height>0?o(e):null})})]})}}$t.defaultProps={className:"",height:"auto",position:"top",width:"auto"};const Jt=$t,Zt={padding:8};class er extends It.PureComponent{render(){const{className:e,children:t}=this.props;return(0,zt.Y)("div",{className:e,style:Zt,children:t})}}er.defaultProps={className:""};const tr=er;var rr=r(29645);const ar={paddingLeft:8,textAlign:"right"},nr=({className:e="",data:t})=>{const r=[{title:"",dataIndex:"keyColumn",key:"keyColumn",render:(e,t)=>{var r;return(0,zt.Y)("div",{style:t.keyStyle,children:null!=(r=t.keyColumn)?r:t.key})}},{title:"",dataIndex:"valueColumn",key:"valueColumn",align:"right",render:(e,t)=>(0,zt.Y)("div",{style:t.valueStyle?{...ar,...t.valueStyle}:ar,children:t.valueColumn})}];return(0,zt.Y)(rr.Table,{className:e,columns:r,dataSource:t,pagination:!1,showHeader:!1,bordered:!1})};var or=r(77709),ir=r(1763),sr=r(62053),lr=r(1071);const cr=(e,t)=>{const r=(0,It.useRef)(!1);(0,It.useEffect)(()=>{r.current?e():r.current=!0},[...t||[e]])};var ur=r(96219),dr=r(67413),mr=r(8903),hr=r(39591),pr=r(40984),gr=r(16062);const Ar=(e,t)=>{var r,a,n;const o=null!=(r=null==(a=e.adhoc_filters)?void 0:a.findIndex(e=>"operator"in e&&"TEMPORAL_RANGE"===e.operator))?r:-1,i=-1!==o&&e.adhoc_filters?e.adhoc_filters[o]:null;i&&"comparator"in i&&"string"==typeof i.comparator&&null!=t&&t.time_range&&(i.comparator=t.time_range);const s=i?[i]:[],l=null==(n=e.adhoc_filters)?void 0:n.filter((e,t)=>o!==t);return l?[...s,...l]:s},fr=Ar,Tr=(e,t,r)=>{let a;return a=t!==mt.Custom?{...e,adhoc_filters:Ar(e,r),extra_form_data:{...r,time_range:void 0}}:{...e,adhoc_filters:e.adhoc_custom,extra_form_data:{...r,time_range:void 0}},a};var Cr=r(48929),yr=r(20033),_r=r(39242)},85173:(e,t,r)=>{"use strict";r.d(t,{v:()=>a});const a=r(24002).memo},95021:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});const a=()=>{var e;return null==(e=window.getSelection())?void 0:e.toString()}},96219:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});var a=r(24002);function n(e){const t=(0,a.useRef)(null),[r,n]=(0,a.useState)(!1),o=e=>{const[t]=e;n(t.intersectionRatio<1)};return(0,a.useEffect)(()=>{const r=new IntersectionObserver(o,e),a=t.current;return a&&r.observe(a),()=>{a&&r.unobserve(a)}},[t,e]),[t,r]}}}]);