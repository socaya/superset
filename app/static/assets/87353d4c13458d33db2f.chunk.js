(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[210,5474],{42634:()=>{},46217:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>b,getLayer:()=>C,getPoints:()=>S});var a=o(2445),i=o(24002),r=o(15022),n=o(25879),l=o.n(n),s=o(35942),c=o(50871),u=o(98456),d=o(83860),g=o(52480),p=o(48238),f=o(51316);const h={fillColor:"fillColor",color:"fillColor",fill:"fillColor","fill-color":"fillColor",strokeColor:"strokeColor","stroke-color":"strokeColor","stroke-width":"strokeWidth"},_=(t,e)=>{const o={};return Object.keys(t).forEach(e=>{e in h?o[h[e]]=t[e]:o[e]=t[e]}),"string"==typeof t.fillColor&&(o.fillColor=(0,c.hexToRGB)(t.fillColor)),"string"==typeof t.strokeColor&&(o.strokeColor=(0,c.hexToRGB)(t.strokeColor)),{...o,...e}};let m=[];const v=(t,e,o)=>{if(null!=t&&t.features&&t.features.forEach(a=>{v(a,e,t.extraProps||o)}),null!=t&&t.geometry){const a={...t,properties:_(t.properties,e)};a.extraProps||(a.extraProps=o),m.push(a)}};function y(t){var e;return(null==(e=t.object)?void 0:e.extraProps)&&(0,a.Y)("div",{className:"deckgl-tooltip",children:Object.keys(t.object.extraProps).map((e,o)=>{var i;return(0,a.Y)(g.A,{label:`${e}: `,value:`${null==(i=t.object.extraProps)?void 0:i[e]}`},`prop-${o}`)})})}const x=t=>{var e;return null==t||null==(e=t.properties)?void 0:e.strokeColor},C=function({formData:t,onContextMenu:e,filterState:o,setDataMask:a,payload:i,setTooltip:n,emitCrossFilters:l}){const s=t,c=s.fill_color_picker,g=s.stroke_color_picker,p=[c.r,c.g,c.b,255*c.a],h=[g.r,g.g,g.b,255*g.a],_={};p[3]>0&&(_.fillColor=p),h[3]>0&&(_.strokeColor=h),m=[],v(i.data,_);let C=m;return s.js_data_mutator&&(C=(0,u.A)(s.js_data_mutator)(m)),new r.A({id:`geojson-layer-${s.slice_id}`,data:C,extruded:s.extruded,filled:s.filled,stroked:s.stroked,getFillColor:t=>((t,e)=>{var o;if(e){var a;if(JSON.stringify(t.geometry.coordinates)===JSON.stringify(null==e?void 0:e[0]))return f.Fe;const o=null==t||null==(a=t.properties)?void 0:a.fillColor;return o[3]=125,o}return null==t||null==(o=t.properties)?void 0:o.fillColor})(t,null==o?void 0:o.value),getLineColor:x,getLineWidth:s.line_width||1,pointRadiusScale:s.point_radius_scale,lineWidthUnits:s.line_width_unit,...(0,d.T$)({formData:s,setTooltip:n,setTooltipContent:y,setDataMask:a,filterState:o,onContextMenu:e,emitCrossFilters:l})})};function S(t){return t.reduce((t,e)=>{const o=l()(e);return o?[...t,[o[0],o[1]],[o[2],o[3]]]:t},[])}const P=t=>{var e;const o=(0,i.useRef)(),r=(0,i.useCallback)(t=>{const{current:e}=o;e&&e.setTooltip(t)},[]),{formData:n,payload:l,setControlValue:c,onAddFilter:u,height:d,width:g}=t,f=(0,i.useMemo)(()=>n.autozoom&&(S(l.data.features)||[]).length?(0,p.A)(t.viewport,{width:g,height:d,points:S(l.data.features)||[]}):t.viewport,[n.autozoom,d,null==l||null==(e=l.data)?void 0:e.features,t.viewport,g]),h=C({onContextMenu:t.onContextMenu,filterState:t.filterState,setDataMask:t.setDataMask,setTooltip:r,onAddFilter:u,payload:l,formData:n,emitCrossFilters:t.emitCrossFilters});return(0,a.Y)(s.S,{ref:o,mapboxApiAccessToken:l.data.mapboxApiKey,viewport:f,layers:[h],mapStyle:n.mapbox_style,setControlValue:c,height:d,width:g})},b=(0,i.memo)(P)},49529:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>m,getHighlightLayer:()=>_,getLayer:()=>f,getPoints:()=>h});var a=o(2445),i=o(12928),r=o(74098),n=o(96469),l=o(92123),s=o(83860),c=o(98456),u=o(832),d=o(52480),g=o(42828),p=o(51316);const f=({formData:t,payload:e,setTooltip:o,setDataMask:l,onContextMenu:u,filterState:p,emitCrossFilters:f})=>{var h,_;const m=t,{intensity:v=1,radius_pixels:y=30,aggregation:x="SUM",js_data_mutator:C,linear_color_scheme:S}=m;let P=e.data.features;C&&(P=(0,c.A)(m.js_data_mutator)(P));const b=null==(h=(0,n.A)())||null==(h=h.get(S))?void 0:h.createLinearScale([0,6]),w=m.color_scheme_type,k=null==(_=(0,s.XC)({defaultBreakpointsColor:m.default_breakpoint_color,colorBreakpoints:m.color_breakpoints,fixedColor:m.color_picker,colorSchemeType:w,colorScale:b}))?void 0:_.reverse(),D=function(t){const e=e=>{var o,i,n,l,s,c;const u=(null==(o=t.size)?void 0:o.label)||(null==(i=t.size)?void 0:i.value)||"Weight",g=null==(n=e.coordinate)?void 0:n[0],p=null==(l=e.coordinate)?void 0:l[1],f=t.tooltip_template||t.tooltip_contents&&t.tooltip_contents.length>0,h=e.object&&Object.keys(e.object).length>0;return(0,a.FD)("div",{className:"deckgl-tooltip",children:[(0,a.Y)(d.A,{label:`${(0,r.t)("Longitude and Latitude")}: `,value:`${null==g?void 0:g.toFixed(6)}, ${null==p?void 0:p.toFixed(6)}`}),(0,a.Y)(d.A,{label:"LON: ",value:null==g?void 0:g.toFixed(6)}),(0,a.Y)(d.A,{label:"LAT: ",value:null==p?void 0:p.toFixed(6)}),(0,a.Y)(d.A,{label:`${u}: `,value:`${(null==(s=e.object)?void 0:s.weight)||(null==(c=e.object)?void 0:c.value)||"Aggregated Cell"}`}),f&&!h&&(0,a.Y)(d.A,{label:`${(0,r.t)("Note")}: `,value:(0,r.t)("Custom fields not available in aggregated heatmap cells")})]})};return o=>{var a;let i=null;if(o.coordinate&&null!=(a=o.layer)&&null!=(a=a.props)&&a.data){const[t,e]=o.coordinate;let a=1/0;for(const r of o.layer.props.data)if(r.position){const[o,n]=r.position,l=Math.sqrt(Math.pow(t-o,2)+Math.pow(e-n,2));l<a&&(a=l,i=r)}}const r={...o,object:i||o.object};return(0,g.j1)(t,e)(r)}}(m);return new i.A({id:`heatmap-layer-${m.slice_id}`,data:P,intensity:v,radiusPixels:y,colorRange:k,aggregation:x.toUpperCase(),getPosition:t=>t.position,getWeight:t=>t.weight?t.weight:1,opacity:.8,threshold:.03,...(0,s.T$)({formData:m,setTooltip:o,setTooltipContent:D,setDataMask:l,filterState:p,onContextMenu:u,emitCrossFilters:f})})};function h(t){return t.map(t=>t.position)}const _=({formData:t,filterState:e,payload:o})=>{const a=t,{intensity:r=1,radius_pixels:n=30,aggregation:s="SUM",js_data_mutator:u}=a;let d=o.data.features;u&&(d=(0,c.A)(a.js_data_mutator)(d));const g=d.filter(t=>(0,l.st)(t.position,null==e?void 0:e.value));return new i.A({id:`heatmap-layer-${a.slice_id}`,data:g,intensity:r,radiusPixels:n,colorRange:[[p.Fe[0],p.Fe[1],p.Fe[2],55],p.Fe],aggregation:s.toUpperCase(),getPosition:t=>t.position,getWeight:t=>t.weight?t.weight:1})},m=(0,u.y)(f,h,_)},58505:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>T});var a=o(2404),i=o.n(a),r=o(2445),n=o(24002),l=o(90924),s=o(74842),c=o(79378),u=o(67413),d=o(35942),g=o(84193),p=o.n(g);function f(t,e,o=!0,a={}){if(!t.datasource)return;const i=new(p())("/"),r=function(t="base"){let e="/explore/";return["json","csv","query","results","samples"].includes(t)&&(e="/superset/explore_json/"),e}(e),n=i.search(!0);Object.keys(a).forEach(t=>{n[t]=a[t]}),n.form_data=function(t){const e=new Set;return JSON.stringify(t,(t,o)=>{if("object"==typeof o&&null!==o){if(e.has(o))try{return JSON.parse(JSON.stringify(o))}catch(t){return}e.add(o)}return o})}(t),"standalone"===e&&(n.standalone="true");const l=i.directory(r).search(n).toString();return!o&&l.length>8e3?f({datasource:t.datasource,viz_type:t.viz_type},e,!1,{URL_IS_TOO_LONG_TO_SHARE:null}):l}var h=o(73087),_=o(85926),m=o(93405),v=o(76185),y=o(99599),x=o(46217),C=o(83374),S=o(69710),P=o(49529),b=o(83177);const w={deck_grid:h.getLayer,deck_screengrid:_.getLayer,deck_path:m.getLayer,deck_hex:v.getLayer,deck_scatter:y.getLayer,deck_geojson:x.getLayer,deck_arc:C.getLayer,deck_polygon:S.getLayer,deck_heatmap:P.getLayer,deck_contour:b.getLayer};var k=o(48238);const D=t=>{const e=(0,n.useRef)(),o=(0,n.useCallback)(()=>{let e={...t.viewport};const o=[...(0,S.getPoints)(t.payload.data.features.deck_polygon||[]),...(0,m.getPoints)(t.payload.data.features.deck_path||[]),...(0,h.getPoints)(t.payload.data.features.deck_grid||[]),...(0,y.getPoints)(t.payload.data.features.deck_scatter||[]),...(0,b.getPoints)(t.payload.data.features.deck_contour||[]),...(0,P.getPoints)(t.payload.data.features.deck_heatmap||[]),...(0,v.getPoints)(t.payload.data.features.deck_hex||[]),...(0,C.getPoints)(t.payload.data.features.deck_arc||[]),...(0,x.getPoints)(t.payload.data.features.deck_geojson||[]),...(0,_.getPoints)(t.payload.data.features.deck_screengrid||[])];return t.formData&&(e=(0,k.A)(e,{width:t.width,height:t.height,points:o})),e.zoom<0&&(e.zoom=0),e},[t]),[a,g]=(0,n.useState)(o()),[p,D]=(0,n.useState)({}),T=(0,n.useCallback)(t=>{const{current:o}=e;o&&o.setTooltip(t)},[]),M=(0,n.useCallback)((t,e,o)=>o?o.indexOf(t):e,[]),A=(0,n.useCallback)((t,e,o)=>{var a;const i=e.layer_filter_scope,r=[...t.form_data.extra_filters||[],...e.extra_filters||[]],n=[...(null==(a=t.form_data)?void 0:a.adhoc_filters)||[]];if(i){const t=e.filter_data_mapping||{};let a=!1;if(Object.entries(i).forEach(([e,i])=>{if((0,l.A)(i).includes(o)){a=!0;const o=t[e]||[];r.push(...o)}}),a){const t=e.adhoc_filters||[];n.push(...t)}}else{var s;const t=(null==(s=e.extra_form_data)?void 0:s.filters)||[];r.push(...t);const o=e.adhoc_filters||[];n.push(...o)}return{extraFilters:r,adhocFilters:n}},[]),L=(0,n.useCallback)((e,o)=>w[e.form_data.viz_type]({formData:e.form_data,payload:o,setTooltip:T,datasource:t.datasource,onSelect:t.onSelect}),[t.onSelect,t.datasource,T]),j=(0,n.useCallback)((t,e,o)=>{const a=M(t.slice_id,o,e.deck_slices);let i=[],r=[];if((window.location.href||"").includes("explore"))r=(e.adhoc_filters||[]).map(t=>{if(!(0,s.A)(null==t?void 0:t.layerFilterScope))return t;if(Array.isArray(t.layerFilterScope)&&t.layerFilterScope.length>0){if(t.layerFilterScope.includes(-1))return t;if(t.layerFilterScope.includes(a))return t}}).filter(t=>(0,s.A)(t));else{const{extraFilters:o,adhocFilters:n}=A(t,e,a);i=o,r=n}const n={...t,form_data:{...t.form_data,extra_filters:i,adhoc_filters:r}},l=f(n.form_data,"json");l&&c.A.get({endpoint:l}).then(({json:t})=>{const e=L(n,t);D(t=>({...t,[n.slice_id]:e}))}).catch(t=>{console.error(`Error loading layer for slice ${n.slice_id}:`,t)})},[M,A,L]),F=(0,n.useCallback)((t,e,a)=>{g(o()),D({}),e.data.slices.forEach((e,o)=>{j(e,t,o)})},[o,j]),R=(0,u.Z)(t.formData.deck_slices);(0,n.useEffect)(()=>{const{formData:e,payload:o}=t;!i()(R,e.deck_slices)&&F(e,o)},[F,R,t]);const{payload:$,formData:E,setControlValue:O,height:z,width:N}=t,V=Object.values(p);return(0,r.Y)(d.S,{ref:e,mapboxApiAccessToken:$.data.mapboxApiKey,viewport:a,layers:V,mapStyle:E.mapbox_style,setControlValue:O,onViewportChange:g,height:z,width:N})},T=(0,n.memo)(D)},69710:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>C,getLayer:()=>v,getPoints:()=>y});var a=o(2445),i=o(24002),r=o(74098),n=o(43850),l=o(28027),s=o(52480),c=o(51316),u=o(83860),d=o(98456);function g(t){return"geometry"in t.polygon?t.polygon.geometry.coordinates[0]:t.polygon}var p=o(48238),f=o(35942),h=o(92123),_=o(20605),m=o(42828);const v=function({formData:t,payload:e,setTooltip:o,filterState:i,setDataMask:l,onContextMenu:p,onSelect:f,emitCrossFilters:v}){const y=t,x=y.fill_color_picker,C=y.stroke_color_picker,S=y.default_breakpoint_color;let P=[...e.data.features];y.js_data_mutator&&(P=(0,d.A)(y.js_data_mutator)(P));const b=y.color_scheme_type,w=y.metric?y.metric.label||y.metric:null,k=t=>t[w];let D;switch(b){case h.wP.fixed_color:D=()=>[x.r,x.g,x.b,255*x.a];break;case h.wP.linear_palette:D=null===y.metric?()=>[x.r,x.g,x.b,255*x.a]:(0,c.L6)(y,P,k);break;case h.wP.color_breakpoints:{const t=y.color_breakpoints;D=e=>{var o;const a=(0,u.JV)(k,e,t),i=void 0!==a&&(null==(o=t[a-1])?void 0:o.color);return i?[i.r,i.g,i.b,255]:S?[S.r,S.g,S.b,255*S.a]:[_.DL.r,_.DL.g,_.DL.b,255*_.DL.a]};break}default:D=()=>[x.r,x.g,x.b,255*x.a]}const T=t=>{var e;const o=D(t)||c.LC,a=g(t),r=JSON.stringify(a).replaceAll(" ","")===(null==i||null==(e=i.value)?void 0:e[0]);return null!=i&&i.value&&!r&&(o[3]/=3),o},M=(0,m.j1)(y,t=>function(t,e,o){var i,n,l;return(0,a.FD)("div",{className:"deckgl-tooltip",children:[(null==(i=t.object)?void 0:i.name)&&(0,a.Y)(s.A,{label:`${(0,r.t)("name")}: `,value:`${t.object.name}`}),(null==(n=t.object)?void 0:n[null==e?void 0:e.line_column])&&(0,a.Y)(s.A,{label:`${e.line_column}: `,value:`${t.object[e.line_column]}`}),m.EO.centroid(t),m.EO.category(t),(null==e?void 0:e.metric)&&(0,a.Y)(s.A,{label:`${o}: `,value:`${null==(l=t.object)?void 0:l[o]}`})]})}(t,y,w));return new n.A({id:`path-layer-${y.slice_id}`,data:P,filled:y.filled,stroked:y.stroked,getPolygon:g,getFillColor:T,getLineColor:C?[C.r,C.g,C.b,255*C.a]:void 0,getLineWidth:y.line_width,extruded:y.extruded,lineWidthUnits:y.line_width_unit,getElevation:t=>function(t,e){return 0===e(t)[3]?0:t.elevation}(t,T),elevationScale:y.multiplier,fp64:!0,opacity:y.opacity?y.opacity/100:1,...(0,u.T$)({formData:y,setTooltip:o,setTooltipContent:M,onSelect:f,filterState:i,onContextMenu:p,setDataMask:l,emitCrossFilters:v})})};function y(t){return t.flatMap(g)}const x=t=>{const e=(0,i.useRef)(),o=(0,i.useCallback)(()=>{let e={...t.viewport};if(t.formData.autozoom){const o=t.payload.data.features||[];e=(0,p.A)(e,{width:t.width,height:t.height,points:y(o)})}return e.zoom<0&&(e.zoom=0),e},[t]),[r,n]=(0,i.useState)(o()),[s,u]=(0,i.useState)(t.payload.form_data);(0,i.useEffect)(()=>{const{payload:e}=t;e.form_data!==s&&(n(o()),u(e.form_data))},[o,t,s,r]);const d=(0,i.useCallback)(t=>{const{current:o}=e;o&&o.setTooltip(t)},[]),g=(0,i.useCallback)(()=>{const{formData:e,payload:o,onAddFilter:a,onContextMenu:i,setDataMask:r,filterState:n,emitCrossFilters:l}=t;return void 0===t.payload.data.features?[]:[v({formData:e,payload:o,onAddFilter:a,setTooltip:d,onContextMenu:i,setDataMask:r,filterState:n,emitCrossFilters:l})]},[d,t]),{payload:_,formData:m,setControlValue:x}=t,C=m.metric?m.metric.label||m.metric:null,S=m.color_scheme_type===h.wP.color_breakpoints?(0,c.BK)(m.color_breakpoints):(0,c.y1)(m,_.data.features,t=>t[C]);return(0,a.FD)("div",{style:{position:"relative"},children:[(0,a.Y)(f.S,{ref:e,viewport:r,layers:g(),setControlValue:x,mapStyle:m.mapbox_style,mapboxApiAccessToken:_.data.mapboxApiKey,width:t.width,height:t.height}),null!==m.metric&&(0,a.Y)(l.A,{categories:S,position:m.legend_position,format:m.legend_format})]})},C=(0,i.memo)(x)},73087:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>_,getHighlightLayer:()=>h,getLayer:()=>p,getPoints:()=>f});var a=o(2445),i=o(31740),r=o(14503),n=o(83860),l=o(98456),s=o(832),c=o(52480),u=o(92123),d=o(42828),g=o(51316);const p=function({formData:t,payload:e,setTooltip:o,setDataMask:s,onContextMenu:g,filterState:p,emitCrossFilters:f}){const h=t,_=h.color_scheme,m=r.getScale(_);let v=e.data.features;h.js_data_mutator&&(v=(0,l.A)(h.js_data_mutator)(v));const y=h.color_breakpoints,x=h.color_scheme_type,C=(0,n.XC)({defaultBreakpointsColor:h.default_breakpoint_color,colorSchemeType:x,colorScale:m,colorBreakpoints:y,fixedColor:h.color_picker}),S=(0,n.g_)(h.js_agg_function,t=>t.weight),P=(0,d.j1)(h,t=>function(t,e){var o,i,r,n;const l=(null==(o=e.size)?void 0:o.label)||(null==(i=e.size)?void 0:i.value)||"Height";return(0,a.FD)("div",{className:"deckgl-tooltip",children:[d.EO.centroid(t),(0,a.Y)(c.A,{label:`${l}: `,value:`${(null==(r=t.object)?void 0:r.elevationValue)||(null==(n=t.object)?void 0:n.value)||"N/A"}`})]})}(t,h)),b=x===u.wP.color_breakpoints?t=>(0,n.JV)(S,t,y):S;return new i.A({id:`grid-layer-${h.slice_id}-${JSON.stringify(y)}`,data:v,cellSize:h.grid_size,extruded:h.extruded,colorDomain:x===u.wP.color_breakpoints&&C?[0,C.length]:void 0,colorRange:C,outline:!1,getElevationValue:S,getColorValue:b,...(0,n.T$)({formData:h,setDataMask:s,setTooltip:o,setTooltipContent:P,filterState:p,onContextMenu:g,emitCrossFilters:f}),opacity:null!=p&&p.value?.1:1})};function f(t){return t.map(t=>t.position)}const h=function({formData:t,payload:e,filterState:o}){var a;const r=t;let s=e.data.features;r.js_data_mutator&&(s=(0,l.A)(r.js_data_mutator)(s));const c=(0,n.g_)(r.js_agg_function,t=>t.weight),u=new Set(null==o||null==(a=o.value)?void 0:a.map(t=>`${t[0]},${t[1]}`));return new i.A({id:`grid-highlight-layer-${r.slice_id}-${JSON.stringify(null==o?void 0:o.value)}`,data:s,cellSize:r.grid_size,extruded:r.extruded,colorDomain:[0,1],colorRange:[g.LC,g.Fe],colorAggregation:"MAX",outline:!1,getElevationValue:c,getColorWeight:t=>u.has(`${t.position[0]},${t.position[1]}`)?1:0,opacity:1})},_=(0,s.y)(p,f,h)},76185:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>_,getHighlightLayer:()=>h,getLayer:()=>p,getPoints:()=>f});var a=o(2445),i=o(37947),r=o(14503),n=o(92123),l=o(83860),s=o(98456),c=o(832),u=o(42828),d=o(52480),g=o(51316);const p=function({formData:t,payload:e,setTooltip:o,onContextMenu:c,filterState:g,setDataMask:p,emitCrossFilters:f}){const h=t,_=h.color_scheme,m=r.getScale(_);let v=e.data.features;h.js_data_mutator&&(v=(0,s.A)(h.js_data_mutator)(v));const y=h.color_scheme_type,x=(0,l.XC)({defaultBreakpointsColor:h.default_breakpoint_color,colorBreakpoints:h.color_breakpoints,fixedColor:h.color_picker,colorSchemeType:y,colorScale:m}),C=h.color_breakpoints,S=(0,l.g_)(h.js_agg_function,t=>t.weight),P=y===n.wP.color_breakpoints?t=>(0,l.JV)(S,t,C):S,b=(0,u.j1)(h,t=>function(t,e){var o,i,r;const n=(null==(o=e.size)?void 0:o.label)||(null==(i=e.size)?void 0:i.value)||"Height";return(0,a.FD)("div",{className:"deckgl-tooltip",children:[u.EO.centroid(t),(0,a.Y)(d.A,{label:`${n}: `,value:`${null==(r=t.object)?void 0:r.elevationValue}`})]})}(t,h));return new i.A({id:`hex-layer-${h.slice_id}-${JSON.stringify(C)}`,data:v,radius:h.grid_size,extruded:h.extruded,colorDomain:y===n.wP.color_breakpoints&&x?[0,x.length]:void 0,colorRange:x,outline:!1,getElevationValue:S,getColorValue:P,...(0,l.T$)({formData:h,setTooltip:o,setTooltipContent:b,setDataMask:p,filterState:g,onContextMenu:c,emitCrossFilters:f}),opacity:null!=g&&g.value?.3:1})};function f(t){return t.map(t=>t.position)}const h=function({formData:t,payload:e,filterState:o}){var a;const r=t;let n=e.data.features;r.js_data_mutator&&(n=(0,s.A)(r.js_data_mutator)(n));const c=(0,l.g_)(r.js_agg_function,t=>t.weight),u=new Set(null==o||null==(a=o.value)?void 0:a.map(t=>`${t[0]},${t[1]}`));return new i.A({id:`hex-highlight-layer-${r.slice_id}-${JSON.stringify(null==o?void 0:o.value)}`,data:n,radius:r.grid_size,extruded:r.extruded,colorDomain:[0,1],colorRange:[g.LC,g.Fe],colorAggregation:"MAX",outline:!1,getElevationValue:c,getColorWeight:t=>u.has(`${t.position[0]},${t.position[1]}`)?1:0,opacity:1})},_=(0,c.y)(p,f,h)},83177:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>v,getHighlightLayer:()=>m,getLayer:()=>h,getPoints:()=>_});var a=o(2445),i=o(15653),r=o(43850),n=o(74098),l=o(83860),s=o(98456),c=o(832),u=o(52480),d=o(42828),g=o(51316);function p(t){var e;return(0,a.FD)("div",{className:"deckgl-tooltip",children:[d.EO.centroid(t),(0,a.Y)(u.A,{label:(0,n.t)("Threshold: "),value:`${null==t||null==(e=t.object)||null==(e=e.contour)?void 0:e.threshold}`})]})}function f(t){var e;return(0,a.FD)("div",{className:"deckgl-tooltip",children:[(0,a.Y)(u.A,{label:(0,n.t)("Centroid (Longitude and Latitude): "),value:`(${null==t?void 0:t.coordinate[0]}, ${null==t?void 0:t.coordinate[1]})`}),(0,a.Y)(u.A,{label:(0,n.t)("Threshold: "),value:`${null==t||null==(e=t.object)||null==(e=e.contour)?void 0:e.threshold}`})]})}const h=function({formData:t,payload:e,filterState:o,setDataMask:a,onContextMenu:r,setTooltip:n,emitCrossFilters:c}){const u=t,{aggregation:g="SUM",js_data_mutator:f,contours:h,cellSize:_="200"}=u;let m=e.data.features;const v=new Map;m.forEach(t=>{if(t.position){var e;const o=`${Math.floor(1e3*t.position[0])},${Math.floor(1e3*t.position[1])}`;v.has(o)||v.set(o,[]),null==(e=v.get(o))||e.push(t.originalData||t)}});const y=null==h?void 0:h.map(t=>{const{lowerThreshold:e,upperThreshold:o,color:a,strokeWidth:i}=t;return o?{threshold:[e,o],color:[a.r,a.g,a.b]}:{threshold:e,color:[a.r,a.g,a.b],strokeWidth:i}});return f&&(m=(0,s.A)(u.js_data_mutator)(m)),new i.A({id:`contourLayer-${u.slice_id}`,data:m,contours:y,cellSize:Number(_||"200"),aggregation:g.toUpperCase(),getPosition:t=>t.position,getWeight:t=>t.weight||0,...(0,l.T$)({formData:u,setTooltip:n,setTooltipContent:t=>{const e=[];if(t.coordinate){const o=`${Math.floor(1e3*t.coordinate[0])},${Math.floor(1e3*t.coordinate[1])}`,a=v.get(o)||[];e.push(...a);for(let o=-1;o<=1;o+=1)for(let a=-1;a<=1;a+=1)if(0!==o||0!==a){const i=`${Math.floor(1e3*t.coordinate[0])+o},${Math.floor(1e3*t.coordinate[1])+a}`,r=v.get(i)||[];e.push(...r)}if(e.length>0){const o={...t.object,nearbyPoints:e.slice(0,5),totalPoints:e.length,...e[0]};Object.assign(t,{object:o})}}return(0,d.j1)(u,p)(t)},onContextMenu:r,setDataMask:a,filterState:o,emitCrossFilters:c})})};function _(t){return t.map(t=>t.position)}const m=function({formData:t,filterState:e,setDataMask:o,onContextMenu:a,setTooltip:i,emitCrossFilters:n}){const s=t,c=null==e?void 0:e.value[0],u=null==e?void 0:e.value[1],d=c[0],p=u[0],h=c[1],_=u[1],m=[[d,h],[p,h],[p,_],[d,_],[d,h]];return new r.A({id:`contour-highlight-layer-${s.slice_id}`,data:[{polygon:m}],getPolygon:t=>t.polygon,getFillColor:[g.Fe[0],g.Fe[1],g.Fe[2],100],getLineColor:g.Fe,getLineWidth:4,filled:!0,stroked:!0,...(0,l.T$)({formData:s,setTooltip:i,setTooltipContent:f,onContextMenu:a,setDataMask:o,filterState:e,emitCrossFilters:n})})},v=(0,c.y)(h,_,m)},83374:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>b,getHighlightLayer:()=>P,getLayer:()=>S,getPoints:()=>x});var a=o(2445),i=o(15473),r=o(38706),n=o(82849),l=o(59),s=o(60945);const c="uniform arcUniforms {\n  bool greatCircle;\n  bool useShortestPath;\n  float numSegments;\n  float widthScale;\n  float widthMinPixels;\n  float widthMaxPixels;\n  highp int widthUnits;\n} arc;\n",u={name:"arc",vs:c,fs:c,uniformTypes:{greatCircle:"f32",useShortestPath:"f32",numSegments:"f32",widthScale:"f32",widthMinPixels:"f32",widthMaxPixels:"f32",widthUnits:"i32"}},d=[0,0,0,255],g={getSourcePosition:{type:"accessor",value:t=>t.sourcePosition},getTargetPosition:{type:"accessor",value:t=>t.targetPosition},getSourceColor:{type:"accessor",value:d},getTargetColor:{type:"accessor",value:d},getWidth:{type:"accessor",value:1},getHeight:{type:"accessor",value:1},getTilt:{type:"accessor",value:0},greatCircle:!1,numSegments:{type:"number",value:50,min:1},widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};class p extends i.A{getBounds(){return this.getAttributeManager()?.getBounds(["instanceSourcePositions","instanceTargetPositions"])}getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME arc-layer-vertex-shader\nin vec4 instanceSourceColors;\nin vec4 instanceTargetColors;\nin vec3 instanceSourcePositions;\nin vec3 instanceSourcePositions64Low;\nin vec3 instanceTargetPositions;\nin vec3 instanceTargetPositions64Low;\nin vec3 instancePickingColors;\nin float instanceWidths;\nin float instanceHeights;\nin float instanceTilts;\nout vec4 vColor;\nout vec2 uv;\nout float isValid;\nfloat paraboloid(float distance, float sourceZ, float targetZ, float ratio) {\nfloat deltaZ = targetZ - sourceZ;\nfloat dh = distance * instanceHeights;\nif (dh == 0.0) {\nreturn sourceZ + deltaZ * ratio;\n}\nfloat unitZ = deltaZ / dh;\nfloat p2 = unitZ * unitZ + 1.0;\nfloat dir = step(deltaZ, 0.0);\nfloat z0 = mix(sourceZ, targetZ, dir);\nfloat r = mix(ratio, 1.0 - ratio, dir);\nreturn sqrt(r * (p2 - r)) * dh + z0;\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\nvec2 dir_screenspace = normalize(line_clipspace * project.viewportSize);\ndir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\nreturn dir_screenspace * offset_direction * width / 2.0;\n}\nfloat getSegmentRatio(float index) {\nreturn smoothstep(0.0, 1.0, index / (arc.numSegments - 1.0));\n}\nvec3 interpolateFlat(vec3 source, vec3 target, float segmentRatio) {\nfloat distance = length(source.xy - target.xy);\nfloat z = paraboloid(distance, source.z, target.z, segmentRatio);\nfloat tiltAngle = radians(instanceTilts);\nvec2 tiltDirection = normalize(target.xy - source.xy);\nvec2 tilt = vec2(-tiltDirection.y, tiltDirection.x) * z * sin(tiltAngle);\nreturn vec3(\nmix(source.xy, target.xy, segmentRatio) + tilt,\nz * cos(tiltAngle)\n);\n}\nfloat getAngularDist (vec2 source, vec2 target) {\nvec2 sourceRadians = radians(source);\nvec2 targetRadians = radians(target);\nvec2 sin_half_delta = sin((sourceRadians - targetRadians) / 2.0);\nvec2 shd_sq = sin_half_delta * sin_half_delta;\nfloat a = shd_sq.y + cos(sourceRadians.y) * cos(targetRadians.y) * shd_sq.x;\nreturn 2.0 * asin(sqrt(a));\n}\nvec3 interpolateGreatCircle(vec3 source, vec3 target, vec3 source3D, vec3 target3D, float angularDist, float t) {\nvec2 lngLat;\nif(abs(angularDist - PI) < 0.001) {\nlngLat = (1.0 - t) * source.xy + t * target.xy;\n} else {\nfloat a = sin((1.0 - t) * angularDist);\nfloat b = sin(t * angularDist);\nvec3 p = source3D.yxz * a + target3D.yxz * b;\nlngLat = degrees(vec2(atan(p.y, -p.x), atan(p.z, length(p.xy))));\n}\nfloat z = paraboloid(angularDist * EARTH_RADIUS, source.z, target.z, t);\nreturn vec3(lngLat, z);\n}\nvoid main(void) {\ngeometry.worldPosition = instanceSourcePositions;\ngeometry.worldPositionAlt = instanceTargetPositions;\nfloat segmentIndex = float(gl_VertexID / 2);\nfloat segmentSide = mod(float(gl_VertexID), 2.) == 0. ? -1. : 1.;\nfloat segmentRatio = getSegmentRatio(segmentIndex);\nfloat prevSegmentRatio = getSegmentRatio(max(0.0, segmentIndex - 1.0));\nfloat nextSegmentRatio = getSegmentRatio(min(arc.numSegments - 1.0, segmentIndex + 1.0));\nfloat indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\nisValid = 1.0;\nuv = vec2(segmentRatio, segmentSide);\ngeometry.uv = uv;\ngeometry.pickingColor = instancePickingColors;\nvec4 curr;\nvec4 next;\nvec3 source;\nvec3 target;\nif ((arc.greatCircle || project.projectionMode == PROJECTION_MODE_GLOBE) && project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\nsource = project_globe_(vec3(instanceSourcePositions.xy, 0.0));\ntarget = project_globe_(vec3(instanceTargetPositions.xy, 0.0));\nfloat angularDist = getAngularDist(instanceSourcePositions.xy, instanceTargetPositions.xy);\nvec3 prevPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, prevSegmentRatio);\nvec3 currPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, segmentRatio);\nvec3 nextPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, nextSegmentRatio);\nif (abs(currPos.x - prevPos.x) > 180.0) {\nindexDir = -1.0;\nisValid = 0.0;\n} else if (abs(currPos.x - nextPos.x) > 180.0) {\nindexDir = 1.0;\nisValid = 0.0;\n}\nnextPos = indexDir < 0.0 ? prevPos : nextPos;\nnextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\nif (isValid == 0.0) {\nnextPos.x += nextPos.x > 0.0 ? -360.0 : 360.0;\nfloat t = ((currPos.x > 0.0 ? 180.0 : -180.0) - currPos.x) / (nextPos.x - currPos.x);\ncurrPos = mix(currPos, nextPos, t);\nsegmentRatio = mix(segmentRatio, nextSegmentRatio, t);\n}\nvec3 currPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, segmentRatio);\nvec3 nextPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, nextSegmentRatio);\ncurr = project_position_to_clipspace(currPos, currPos64Low, vec3(0.0), geometry.position);\nnext = project_position_to_clipspace(nextPos, nextPos64Low, vec3(0.0));\n} else {\nvec3 source_world = instanceSourcePositions;\nvec3 target_world = instanceTargetPositions;\nif (arc.useShortestPath) {\nsource_world.x = mod(source_world.x + 180., 360.0) - 180.;\ntarget_world.x = mod(target_world.x + 180., 360.0) - 180.;\nfloat deltaLng = target_world.x - source_world.x;\nif (deltaLng > 180.) target_world.x -= 360.;\nif (deltaLng < -180.) source_world.x -= 360.;\n}\nsource = project_position(source_world, instanceSourcePositions64Low);\ntarget = project_position(target_world, instanceTargetPositions64Low);\nfloat antiMeridianX = 0.0;\nif (arc.useShortestPath) {\nif (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\nantiMeridianX = -(project.coordinateOrigin.x + 180.) / 360. * TILE_SIZE;\n}\nfloat thresholdRatio = (antiMeridianX - source.x) / (target.x - source.x);\nif (prevSegmentRatio <= thresholdRatio && nextSegmentRatio > thresholdRatio) {\nisValid = 0.0;\nindexDir = sign(segmentRatio - thresholdRatio);\nsegmentRatio = thresholdRatio;\n}\n}\nnextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\nvec3 currPos = interpolateFlat(source, target, segmentRatio);\nvec3 nextPos = interpolateFlat(source, target, nextSegmentRatio);\nif (arc.useShortestPath) {\nif (nextPos.x < antiMeridianX) {\ncurrPos.x += TILE_SIZE;\nnextPos.x += TILE_SIZE;\n}\n}\ncurr = project_common_position_to_clipspace(vec4(currPos, 1.0));\nnext = project_common_position_to_clipspace(vec4(nextPos, 1.0));\ngeometry.position = vec4(currPos, 1.0);\n}\nfloat widthPixels = clamp(\nproject_size_to_pixel(instanceWidths * arc.widthScale, arc.widthUnits),\narc.widthMinPixels, arc.widthMaxPixels\n);\nvec3 offset = vec3(\ngetExtrusionOffset((next.xy - curr.xy) * indexDir, segmentSide, widthPixels),\n0.0);\nDECKGL_FILTER_SIZE(offset, geometry);\nDECKGL_FILTER_GL_POSITION(curr, geometry);\ngl_Position = curr + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\nvec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio);\nvColor = vec4(color.rgb, color.a * layer.opacity);\nDECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME arc-layer-fragment-shader\nprecision highp float;\nin vec4 vColor;\nin vec2 uv;\nin float isValid;\nout vec4 fragColor;\nvoid main(void) {\nif (isValid == 0.0) {\ndiscard;\n}\nfragColor = vColor;\ngeometry.uv = uv;\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[r.A,n.A,u]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceSourceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getSourceColor",defaultValue:d},instanceTargetColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getTargetColor",defaultValue:d},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1},instanceHeights:{size:1,transition:!0,accessor:"getHeight",defaultValue:1},instanceTilts:{size:1,transition:!0,accessor:"getTilt",defaultValue:0}})}updateState(t){super.updateState(t),t.changeFlags.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:t}){const{widthUnits:e,widthScale:o,widthMinPixels:a,widthMaxPixels:i,greatCircle:r,wrapLongitude:n,numSegments:s}=this.props,c={numSegments:s,widthUnits:l.p5[e],widthScale:o,widthMinPixels:a,widthMaxPixels:i,greatCircle:r,useShortestPath:n},u=this.state.model;u.shaderInputs.setProps({arc:c}),u.setVertexCount(2*s),u.draw(this.context.renderPass)}_getModel(){return new s.K(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),topology:"triangle-strip",isInstanced:!0})}}p.layerName="ArcLayer",p.defaultProps=g;const f=p;var h=o(92123),_=o(83860),m=o(832),v=o(42828),y=o(51316);function x(t){const e=[];return t.forEach(t=>{e.push(t.sourcePosition),e.push(t.targetPosition)}),e}function C(t){return(0,v.j1)(t,t=>(0,a.FD)("div",{className:"deckgl-tooltip",children:[v.EO.arcPositions(t),v.EO.category(t)]}))}const S=function({formData:t,payload:e,setTooltip:o,filterState:a,setDataMask:i,onContextMenu:r,emitCrossFilters:n}){const l=t,s=e.data.features,c=l.color_picker,u=l.target_color_picker,d=l.color_scheme_type;return new f({data:s,getSourceColor:t=>d===h.wP.fixed_color?[c.r,c.g,c.b,255*c.a]:t.sourceColor||t.color||[c.r,c.g,c.b,255*c.a],getTargetColor:t=>d===h.wP.fixed_color?[u.r,u.g,u.b,255*u.a]:t.targetColor||t.color||[u.r,u.g,u.b,255*u.a],id:`path-layer-${l.slice_id}`,getWidth:l.stroke_width?l.stroke_width:3,...(0,_.T$)({formData:l,setTooltip:o,setTooltipContent:C(l),onContextMenu:r,setDataMask:i,filterState:a,emitCrossFilters:n}),opacity:null!=a&&a.value?.1:1})},P=function({formData:t,payload:e,filterState:o}){const a=t,i=e.data.features,r=t=>{const e=null==o?void 0:o.value[0],a=null==o?void 0:o.value[1];return e&&a&&t.sourcePosition[0]===e[0]&&t.sourcePosition[1]===e[1]&&t.targetPosition[0]===a[0]&&t.targetPosition[1]===a[1]?y.Fe:y.LC};return new f({data:i,getSourceColor:r,getTargetColor:r,id:`path-hihglight-layer-${a.slice_id}`,getWidth:a.stroke_width?a.stroke_width:3})},b=(0,m.c)(S,x,P)},93405:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>f,getHighlightLayer:()=>p,getLayer:()=>d,getPoints:()=>g});var a=o(2445),i=o(23096),r=o(83860),n=o(98456),l=o(832),s=o(42828),c=o(51316);function u(t){return(0,s.j1)(t,t=>(0,a.FD)("div",{className:"deckgl-tooltip",children:[s.EO.position(t),s.EO.category(t)]}))}const d=function({formData:t,payload:e,onContextMenu:o,filterState:a,setDataMask:l,setTooltip:s,emitCrossFilters:c}){const d=t,g=d.color_picker,p=[g.r,g.g,g.b,255*g.a];let f=e.data.features.map(t=>({...t,path:t.path,width:d.line_width,color:p}));return d.js_data_mutator&&(f=(0,n.A)(d.js_data_mutator)(f)),new i.A({id:`path-layer-${d.slice_id}`,getColor:t=>t.color,getPath:t=>t.path,getWidth:t=>t.width,data:f,rounded:!0,widthScale:1,widthUnits:d.line_width_unit,...(0,r.T$)({formData:d,setTooltip:s,setTooltipContent:u(d),setDataMask:l,filterState:a,onContextMenu:o,emitCrossFilters:c}),opacity:null!=a&&a.value?.3:1})};function g(t){let e=[];return t.forEach(t=>{e=e.concat(t.path)}),e}const p=function({formData:t,payload:e,filterState:o}){const a=t,r=c.Fe;let l=e.data.features.map(t=>({...t,path:t.path,width:a.line_width,color:r}));a.js_data_mutator&&(l=(0,n.A)(a.js_data_mutator)(l));const s=l.filter(t=>JSON.stringify(t.path).replaceAll(" ","")===(null==o?void 0:o.value[0]));return new i.A({id:`path-highlight-layer-${a.slice_id}`,getColor:()=>c.Fe,getPath:t=>t.path,getWidth:t=>t.width,data:s,rounded:!0,widthScale:1,widthUnits:a.line_width_unit})},f=(0,l.y)(d,g,p)},99599:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>v,getHighlightLayer:()=>m,getLayer:()=>_,getPoints:()=>h});var a=o(2445),i=o(31073),r=o(74098),n=o(92123),l=o(83860),s=o(832),c=o(42828),u=o(52480);const d=1609.34;function g(t,e){return"square_m"===t?Math.sqrt(e/Math.PI):"radius_m"===t?e:"radius_km"===t?1e3*e:"radius_miles"===t?e*d:"square_km"===t?1e3*Math.sqrt(e/Math.PI):"square_miles"===t?Math.sqrt(e/Math.PI)*d:null}var p=o(51316);function f(t,e){return(0,c.j1)(t,o=>{var i,n,l,s,c,d,g;const p=(null==e?void 0:e[t.point_radius_fixed.value])||("string"==typeof(f=null==(i=t.point_radius_fixed)?void 0:i.value)?f:null!=f&&f.label?f.label:null!=f&&f.verbose_name?f.verbose_name:(null==f?void 0:f.value)||"Metric");var f;return(0,a.FD)("div",{className:"deckgl-tooltip",children:[(0,a.Y)(u.A,{label:`${(0,r.t)("Longitude and Latitude")}: `,value:`${null==(n=o.object)||null==(n=n.position)?void 0:n[0]}, ${null==(l=o.object)||null==(l=l.position)?void 0:l[1]}`}),(null==(s=o.object)?void 0:s.cat_color)&&(0,a.Y)(u.A,{label:`${(0,r.t)("Category")}: `,value:`${null==(c=o.object)?void 0:c.cat_color}`}),(null==(d=o.object)?void 0:d.metric)&&(0,a.Y)(u.A,{label:`${p}: `,value:`${null==(g=o.object)?void 0:g.metric}`})]})})}function h(t){return t.map(t=>t.position)}const _=function({formData:t,payload:e,setTooltip:o,setDataMask:a,filterState:r,onContextMenu:n,datasource:s,emitCrossFilters:c}){const u=t,d=e.data.features.map(t=>{let e=g(u.point_unit,t.radius)||10;if(u.multiplier&&(e*=u.multiplier),t.color)return{...t,radius:e};const o=u.color_picker||{r:0,g:0,b:0,a:1},a=[o.r,o.g,o.b,255*o.a];return{...t,radius:e,color:a}});return new i.A({id:`scatter-layer-${u.slice_id}`,data:d,fp64:!0,getFillColor:t=>t.color,getRadius:t=>t.radius,radiusMinPixels:Number(u.min_radius)||void 0,radiusMaxPixels:Number(u.max_radius)||void 0,stroked:!1,...(0,l.T$)({formData:u,setTooltip:o,setTooltipContent:f(u,null==s?void 0:s.verboseMap),setDataMask:a,filterState:r,onContextMenu:n,emitCrossFilters:c}),opacity:null!=r&&r.value?.3:1})},m=function({formData:t,payload:e,filterState:o}){const a=t,r=e.data.features.map(t=>{let e=g(a.point_unit,t.radius)||10;return a.multiplier&&(e*=a.multiplier),{...t,radius:e}}).filter(t=>(0,n.st)(t.position,null==o?void 0:o.value));return new i.A({id:`scatter-highlight-layer-${a.slice_id}`,data:r,fp64:!0,getFillColor:()=>p.Fe,getRadius:t=>t.radius,radiusMinPixels:Number(a.min_radius)||void 0,radiusMaxPixels:Number(a.max_radius)||void 0,stroked:!1})},v=(0,s.c)(_,h,m)}}]);