"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[4785],{20033:(e,t,n)=>{n.d(t,{wv:()=>u,x9:()=>v});var i=n(62193),r=n.n(i),a=n(58561),l=n.n(a),o=n(90924),s=n(79378),c=n(59744);const u=" : ",d=(e,t)=>`${e}${u}${t}`,m=(e,t)=>e.replace("T00:00:00","")||(t?"-∞":"∞"),f=(e,t="col")=>{const n=e.split(u);return 1===n.length?e:`${m(n[0],!0)} ≤ ${t} < ${m(n[1])}`},v=async(e,t="col",n)=>{let i,a;if(r()(n))i=l().encode_uri(e),a=`/api/v1/time_range/?q=${i}`;else{const t=(0,o.A)(n).map(t=>({timeRange:e,shift:t}));i=l().encode_uri([{timeRange:e},...t]),a=`/api/v1/time_range/?q=${i}`}try{var v;const e=await s.A.get({endpoint:a});if(r()(n)){var g,h;const n=d((null==e||null==(g=e.json)||null==(g=g.result[0])?void 0:g.since)||"",(null==e||null==(h=e.json)||null==(h=h.result[0])?void 0:h.until)||"");return{value:f(n,t)}}const i=null==e||null==(v=e.json)?void 0:v.result.map(e=>d(e.since,e.until));return{value:i.slice(1).map(e=>((e,t,n="col")=>{const i=e.split(u),r=t.split(u);return`${n}: ${m(i[0],!0)} to ${m(i[1])} vs\n  ${m(r[0],!0)} to ${m(r[1])}`})(i[0],e,t))}}catch(e){const t=await(0,c.h4)(e);return{error:t.message||t.error||e.statusText}}}},39242:(e,t,n)=>{n.d(t,{t:()=>v});var i=n(20033);const r=String.raw`\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.\d+)?(?:(?:[+-]\d\d:\d\d)|Z)?`,a=String.raw`(?:TODAY|NOW)`,l=String.raw`[+-]?[1-9][0-9]*`,o=String.raw`YEAR|QUARTER|MONTH|WEEK|DAY|HOUR|MINUTE|SECOND`,s=RegExp(String.raw`^DATEADD\(DATETIME\("(${r}|${a})"\),\s(${l}),\s(${o})\)$`,"i"),c=RegExp(String.raw`^${r}$|^${a}$`,"i"),u=["now","today"],d=new Date;d.setHours(0,0,0,0);const m=new Date;m.setHours(0,0,0,0);const f={sinceDatetime:d.setDate(d.getDate()-7).toString(),sinceMode:"relative",sinceGrain:"day",sinceGrainValue:-7,untilDatetime:m.toString(),untilMode:"specific",untilGrain:"day",untilGrainValue:7,anchorMode:"now",anchorValue:"now"},v=e=>{const t=e.split(i.wv);if(2===t.length){const[e,n]=t;if(c.test(e)&&c.test(n)){const t=u.includes(e)?e:"specific",i=u.includes(n)?n:"specific";return{customRange:{...f,sinceDatetime:e,untilDatetime:n,sinceMode:t,untilMode:i},matchedFlag:!0}}const i=e.match(s);if(i&&c.test(n)&&e.includes(n)){const[e,t,r]=i.slice(1),a=u.includes(n)?n:"specific";return{customRange:{...f,sinceGrain:r,sinceGrainValue:parseInt(t,10),sinceDatetime:e,untilDatetime:e,sinceMode:"relative",untilMode:a},matchedFlag:!0}}const r=n.match(s);if(c.test(e)&&r&&n.includes(e)){const[t,n,i]=[...r.slice(1)],a=u.includes(e)?e:"specific";return{customRange:{...f,untilGrain:i,untilGrainValue:parseInt(n,10),sinceDatetime:t,untilDatetime:t,untilMode:"relative",sinceMode:a},matchedFlag:!0}}if(i&&r){const[e,t,n]=[...i.slice(1)],[a,l,o]=[...r.slice(1)];if(e===a)return{customRange:{...f,sinceGrain:n,sinceGrainValue:parseInt(t,10),sinceDatetime:e,untilGrain:o,untilGrainValue:parseInt(l,10),untilDatetime:a,anchorValue:e,sinceMode:"relative",untilMode:"relative",anchorMode:"now"===e?"now":"specific"},matchedFlag:!0}}}return{customRange:f,matchedFlag:!1}}},39591:(e,t,n)=>{n.d(t,{A:()=>a,P:()=>r});var i=n(24002);const r={name:"l8l8b8",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis"},a=({isVertical:e,isHorizontal:t}={isVertical:!1,isHorizontal:!0})=>{const[n,r]=(0,i.useState)(!0),a=(0,i.useRef)(null),[l,o]=(0,i.useState)(0),[s,c]=(0,i.useState)(0),[u,d]=(0,i.useState)(0),[m,f]=(0,i.useState)(0);return(0,i.useEffect)(()=>{var e,t,n,i,r,l,s,u;o(null!=(e=null==(t=a.current)?void 0:t.offsetWidth)?e:0),c(null!=(n=null==(i=a.current)?void 0:i.scrollWidth)?n:0),d(null!=(r=null==(l=a.current)?void 0:l.offsetHeight)?r:0),f(null!=(s=null==(u=a.current)?void 0:u.scrollHeight)?s:0)}),(0,i.useEffect)(()=>{r(e&&u<m||t&&l<s)},[l,s,u,m,e,t]),[a,n]}},62539:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var i=n(2445),r=n(1763),a=n(31463),l=n(81465),o=n(24002),s=n(6694),c=n(17102);const u=(0,l.I4)(c.j3)`
  display: flex;
  align-items: center;
  overflow-x: visible;

  & .ant-tag {
    margin-right: 0;
  }
`,d=l.I4.div`
  display: flex;
  height: 100%;
  max-width: 100%;
  width: 100%;
  & > div,
  & > div:hover {
    ${({validateStatus:e,theme:t})=>{if(!e)return"";switch(e){case"error":default:return`border-color: ${t.colorError}`;case"warning":return`border-color: ${t.colorWarning}`;case"info":return`border-color: ${t.colorInfo}`}}}
  }
  & > div {
    width: 100%;
  }

  &:focus > div {
    border-color: ${({theme:e})=>e.colorPrimary};
    box-shadow: ${({theme:e})=>`0 0 0 2px ${e.controlOutline}`};
    outline: 0;
  }
`;function m(e){var t;const{setDataMask:n,setHoveredFilter:l,unsetHoveredFilter:c,setFocusedFilter:m,unsetFocusedFilter:f,setFilterActive:v,width:g,height:h,filterState:p,inputRef:w,isOverflowingFilterBar:$=!1}=e,S=(0,r.a)().get("filter.dateFilterControl"),D=null!=S?S:s.Ay,b=(0,o.useCallback)(e=>{const t=e&&e!==a.WC;n({extraFormData:t?{time_range:e}:{},filterState:{value:t?e:void 0}})},[n]);return(0,o.useEffect)(()=>{b(p.value)},[p.value]),null!=(t=e.formData)&&t.inView?(0,i.Y)(u,{width:g,height:h,children:(0,i.Y)(d,{ref:w,validateStatus:p.validateStatus,onFocus:m,onBlur:f,onMouseEnter:l,onMouseLeave:c,tabIndex:-1,children:(0,i.Y)(D,{value:p.value||a.WC,name:e.formData.nativeFilterId||"time_range",onChange:b,onOpenPopover:()=>v(!0),onClosePopover:()=>{v(!1),c(),f()},isOverflowingFilterBar:$})})}):null}},82384:(e,t,n)=>{n.d(t,{e:()=>r});var i=n(29645);const r=(0,n(81465).I4)(i.Form.Item)`
  ${({theme:e})=>`\n    &.ant-form-item > .ant-row > .ant-form-item-label {\n      padding-bottom: ${e.paddingXXS}px;\n    }\n    .ant-form-item-label {\n      & > label {\n        font-size: ${e.fontSizeSM}px;\n        &.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n          &::before {\n            display: none;\n          }\n          &::after {\n            display: inline-block;\n            visibility: visible;\n            color: ${e.colorError};\n            font-size: ${e.fontSizeSM}px;\n            content: '*';\n          }\n        }\n      }\n    }\n    .ant-form-item-extra {\n      margin-top: ${e.sizeUnit}px;\n      font-size: ${e.fontSizeSM}px;\n    }\n  `}
`}}]);